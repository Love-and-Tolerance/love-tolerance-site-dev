import{m as t}from"./chunk.7da70b4d.js";function f(r){return r.reduce((e,s)=>typeof s=="number"?e+"["+s+"]":e+(e===""?"":".")+s,"")}class l extends Error{constructor(e,s){super(e),this.details=s.details}}function A(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxIssuesInMessage:s=99,issueSeparator:n="; ",prefixSeparator:o=": ",prefix:a="Validation error"}=e,c=r.errors.slice(0,s).map(d=>{const{message:m,path:p}=d;return p.length>0?`${m} at "${f(p)}"`:m}).join(n),g=c?[a,c].join(o):a;return new l(g,{details:r.errors})}const u=t.object({mc_versions:t.string(),pack_format:t.string(),tag:t.string(),release_url:t.string(),version:t.string(),filename:t.string(),url:t.string()}),h=t.object({name:t.string(),id:t.string(),branch:t.optional(t.string()),url:t.optional(t.string()),"pack.png":t.optional(t.string()),description:t.optional(t.string())}),b=t.object({name:t.string(),id_pos:t.number(),default:t.string(),variants:t.array(h)}),v=t.object({repos:t.object({base:u,addons:t.array(b)})}),$=t.object({name:t.string(),filename:t.string(),url:t.string()}),y=t.object({repos:t.object({base:u,addons:t.array($)})});function i(r){return r===void 0||r===""}function j(r){if(r.startsWith("https://github.com/"))return r.replace("https://github.com/","");if(r.startsWith("git@github.com:"))return r.replace("git@github.com:","");throw new Error(`Unsupported URL. Only SSH- and HTTPS-like GitHub URLs are supported (${r})`)}function w(r,e){return i(e)?r.replace(/\.git$/,""):r}function H(r){const[e,s,n]=j(r).split("/");if(i(e)||i(s))throw new Error(`GitHub URL must contain repo's owner and name (${r})`);return{owner:e,name:w(s,n)}}function E(r,e,s){return e??="HEAD",`https://raw.githubusercontent.com/${r.owner}/${r.name}/${e}/${s}`}function U(r,e,s,n){let o=`https://github.com/${r.owner}/${r.name}/`;return s!==void 0&&(e??="tree",o+=`${e}/${s}/`,n!==void 0&&(o+=n)),o}export{y as B,v as J,A as f,H as p,E as r,U as s};
