const u={};function F(e){u.context=e}function Ee(){return{...u.context,id:`${u.context.id}${u.context.count++}-`,count:0}}const Ce=(e,t)=>e===t,Ke=Symbol("solid-proxy"),ke=Symbol("solid-track"),_={equals:Ce};let P=null,$e=xe;const B=1,Y=2,de={owned:null,cleanups:null,context:null,owner:null},z={};var d=null;let T=null,y=null,A=null,L=null,ne=0;function V(e,t){const n=y,s=d,i=e.length===0,r=i?de:{owned:null,cleanups:null,context:null,owner:t||s},o=i?e:()=>e(()=>q(()=>re(r)));d=r,y=null;try{return j(o,!0)}finally{y=n,d=s}}function O(e,t){t=t?Object.assign({},_,t):_;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=i=>(typeof i=="function"&&(i=i(n.value)),pe(n,i));return[ge.bind(n),s]}function le(e,t,n){const s=ie(e,t,!0,B);U(s)}function K(e,t,n){const s=ie(e,t,!1,B);U(s)}function N(e,t,n){n=n?Object.assign({},_,n):_;const s=ie(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,U(s),ge.bind(s)}function Ge(e,t,n){let s,i,r;arguments.length===2&&typeof t=="object"||arguments.length===1?(s=!0,i=e,r=t||{}):(s=e,i=t,r=n||{});let o=null,l=z,c=null,a=!1,f=!1,b="initialValue"in r,h=typeof s=="function"&&N(s);const g=new Set,[w,E]=(r.storage||O)(r.initialValue),[C,$]=O(void 0),[x,v]=O(void 0,{equals:!1}),[k,H]=O(b?"ready":"unresolved");if(u.context){c=`${u.context.id}${u.context.count++}`;let p;r.ssrLoadFrom==="initial"?l=r.initialValue:u.load&&(p=u.load(c))&&(l=p[0])}function I(p,S,m,R){return o===p&&(o=null,b=!0,(p===l||S===l)&&r.onHydrated&&queueMicrotask(()=>r.onHydrated(R,{value:S})),l=z,ve(S,m)),S}function ve(p,S){j(()=>{S||E(()=>p),H(S?"errored":"ready"),$(S);for(const m of g.keys())m.decrement();g.clear()},!1)}function J(){const p=G&&Q(d,G.id),S=w(),m=C();if(m&&!o)throw m;return y&&!y.user&&p&&le(()=>{x(),o&&(p.resolved&&T&&a?T.promises.add(o):g.has(p)||(p.increment(),g.add(p)))}),S}function Z(p=!0){if(p!==!1&&f)return;f=!1;const S=h?h():s;if(a=T,S==null||S===!1){I(o,q(w));return}const m=l!==z?l:q(()=>i(S,{value:w(),refetching:p}));return typeof m!="object"||!(m&&"then"in m)?(I(o,m),m):(o=m,f=!0,queueMicrotask(()=>f=!1),j(()=>{H(b?"refreshing":"pending"),v()},!1),m.then(R=>I(m,R,void 0,S),R=>I(m,void 0,we(R))))}return Object.defineProperties(J,{state:{get:()=>k()},error:{get:()=>C()},loading:{get(){const p=k();return p==="pending"||p==="refreshing"}},latest:{get(){if(!b)return J();const p=C();if(p&&!o)throw p;return w()}}}),h?le(()=>Z(!1)):Z(!1),[J,{refetch:Z,mutate:E}]}function We(e){return j(e,!1)}function q(e){let t,n=y;return y=null,t=e(),y=n,t}function se(e){return d===null||(d.cleanups===null?d.cleanups=[e]:d.cleanups.push(e)),e}function oe(e){P||(P=Symbol("error")),d===null||(d.context===null?d.context={[P]:[e]}:d.context[P]?d.context[P].push(e):d.context[P]=[e])}function Xe(){return y}function Te(){return d}function Ne(e){L.push.apply(L,e),e.length=0}function he(e,t){const n=Symbol("context");return{id:n,Provider:je(n),defaultValue:e}}function qe(e){let t;return(t=Q(d,e.id))!==void 0?t:e.defaultValue}function He(e){const t=N(e),n=N(()=>ee(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let G;function Le(){return G||(G=he({}))}function ge(){const e=T;if(this.sources&&(this.state||e))if(this.state===B||e)U(this);else{const t=A;A=null,j(()=>W(this),!1),A=t}if(y){const t=this.observers?this.observers.length:0;y.sources?(y.sources.push(this),y.sourceSlots.push(t)):(y.sources=[this],y.sourceSlots=[t]),this.observers?(this.observers.push(y),this.observerSlots.push(y.sources.length-1)):(this.observers=[y],this.observerSlots=[y.sources.length-1])}return this.value}function pe(e,t,n){let s=e.value;return(!e.comparator||!e.comparator(s,t))&&(e.value=t,e.observers&&e.observers.length&&j(()=>{for(let i=0;i<e.observers.length;i+=1){const r=e.observers[i],o=T&&T.running;o&&T.disposed.has(r),(o&&!r.tState||!o&&!r.state)&&(r.pure?A.push(r):L.push(r),r.observers&&be(r)),o||(r.state=B)}if(A.length>1e6)throw A=[],new Error},!1)),t}function U(e){if(!e.fn)return;re(e);const t=d,n=y,s=ne;y=d=e,Pe(e,e.value,s),y=n,d=t}function Pe(e,t,n){let s;try{s=e.fn(t)}catch(i){e.pure&&(e.state=B),me(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?pe(e,s):e.value=s,e.updatedAt=n)}function ie(e,t,n,s=B,i){const r={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:d,context:null,pure:n};return d===null||d!==de&&(d.owned?d.owned.push(r):d.owned=[r]),r}function ye(e){const t=T;if(e.state===0||t)return;if(e.state===Y||t)return W(e);if(e.suspense&&q(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ne);)(e.state||t)&&n.push(e);for(let s=n.length-1;s>=0;s--)if(e=n[s],e.state===B||t)U(e);else if(e.state===Y||t){const i=A;A=null,j(()=>W(e,n[0]),!1),A=i}}function j(e,t){if(A)return e();let n=!1;t||(A=[]),L?n=!0:L=[],ne++;try{const s=e();return Oe(n),s}catch(s){A||(L=null),me(s)}}function Oe(e){if(A&&(xe(A),A=null),e)return;const t=L;L=null,t.length&&j(()=>$e(t),!1)}function xe(e){for(let t=0;t<e.length;t++)ye(e[t])}function W(e,t){const n=T;e.state=0;for(let s=0;s<e.sources.length;s+=1){const i=e.sources[s];i.sources&&(i.state===B||n?i!==t&&ye(i):(i.state===Y||n)&&W(i,t))}}function be(e){const t=T;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(!s.state||t)&&(s.state=Y,s.pure?A.push(s):L.push(s),s.observers&&be(s))}}function re(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const r=i.pop(),o=n.observerSlots.pop();s<i.length&&(r.sourceSlots[o]=s,i[s]=r,n.observerSlots[s]=o)}}if(e.owned){for(t=0;t<e.owned.length;t++)re(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function we(e){return e instanceof Error||typeof e=="string"?e:new Error("Unknown error")}function me(e){e=we(e);const t=P&&Q(d,P);if(!t)throw e;for(const n of t)n(e)}function Q(e,t){return e?e.context&&e.context[t]!==void 0?e.context[t]:Q(e.owner,t):void 0}function ee(e){if(typeof e=="function"&&!e.length)return ee(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=ee(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function je(e,t){return function(s){let i;return K(()=>i=q(()=>(d.context={[e]:s.value},He(()=>s.children))),void 0),i}}const Be=Symbol("fallback");function fe(e){for(let t=0;t<e.length;t++)e[t]()}function Ie(e,t,n={}){let s=[],i=[],r=[],o=0,l=t.length>1?[]:null;return se(()=>fe(r)),()=>{let c=e()||[],a,f;return c[ke],q(()=>{let h=c.length,g,w,E,C,$,x,v,k,H;if(h===0)o!==0&&(fe(r),r=[],s=[],i=[],o=0,l&&(l=[])),n.fallback&&(s=[Be],i[0]=V(I=>(r[0]=I,n.fallback())),o=1);else if(o===0){for(i=new Array(h),f=0;f<h;f++)s[f]=c[f],i[f]=V(b);o=h}else{for(E=new Array(h),C=new Array(h),l&&($=new Array(h)),x=0,v=Math.min(o,h);x<v&&s[x]===c[x];x++);for(v=o-1,k=h-1;v>=x&&k>=x&&s[v]===c[k];v--,k--)E[k]=i[v],C[k]=r[v],l&&($[k]=l[v]);for(g=new Map,w=new Array(k+1),f=k;f>=x;f--)H=c[f],a=g.get(H),w[f]=a===void 0?-1:a,g.set(H,f);for(a=x;a<=v;a++)H=s[a],f=g.get(H),f!==void 0&&f!==-1?(E[f]=i[a],C[f]=r[a],l&&($[f]=l[a]),f=w[f],g.set(H,f)):r[a]();for(f=x;f<h;f++)f in E?(i[f]=E[f],r[f]=C[f],l&&(l[f]=$[f],l[f](f))):i[f]=V(b);i=i.slice(0,o=h),s=c.slice(0)}return i});function b(h){if(r[f]=h,l){const[g,w]=O(f);return l[f]=w,t(c[f],g)}return t(c[f])}}}let Ae=!1;function Me(){Ae=!0}function Fe(e,t){if(Ae&&u.context){const n=u.context;F(Ee());const s=q(()=>e(t||{}));return F(n),s}return q(()=>e(t||{}))}function Qe(e){const t="fallback"in e&&{fallback:()=>e.fallback};return N(Ie(()=>e.each,e.children,t||void 0))}function Je(e){let t=!1;const n=e.keyed,s=N(()=>e.when,void 0,{equals:(i,r)=>t?i===r:!i==!r});return N(()=>{const i=s();if(i){const r=e.children,o=typeof r=="function"&&r.length>0;return t=n||o,o?q(()=>r(i)):r}return e.fallback})}let D;function Ze(e){let t,n;u.context&&u.load&&(n=u.load(u.context.id+u.context.count))&&(t=n[0]);const[s,i]=O(t);return D||(D=new Set),D.add(i),se(()=>D.delete(i)),N(()=>{let r;if(r=s()){const o=e.fallback,l=typeof o=="function"&&o.length?q(()=>o(r,()=>i())):o;return oe(i),l}return oe(i),e.children})}const Re=he();function ze(e){let t=0,n,s,i,r,o;const[l,c]=O(!1),a=Le(),f={increment:()=>{++t===1&&c(!0)},decrement:()=>{--t===0&&c(!1)},inFallback:l,effects:[],resolved:!1},b=Te();if(u.context&&u.load){const w=u.context.id+u.context.count;let E=u.load(w);if(E&&(i=E[0])&&i!=="$$f"){(typeof i!="object"||!("then"in i))&&(i=Promise.resolve(i));const[C,$]=O(void 0,{equals:!1});r=C,i.then(x=>{if(x||u.done)return x&&(o=x),$();u.gather(w),F(s),$(),F()})}}const h=qe(Re);h&&(n=h.register(f.inFallback));let g;return se(()=>g&&g()),Fe(a.Provider,{value:f,get children(){return N(()=>{if(o)throw o;if(s=u.context,r)return r(),r=void 0;s&&i==="$$f"&&F();const w=N(()=>e.children);return N(E=>{const C=f.inFallback(),{showContent:$=!0,showFallback:x=!0}=n?n():{};if((!C||i&&i!=="$$f")&&$)return f.resolved=!0,g&&g(),g=s=i=void 0,Ne(f.effects),w();if(!!x)return g?E:V(v=>(g=v,s&&(F({id:s.id+"f",count:0}),s=void 0),e.fallback),b)})})}})}function Ve(e,t,n){let s=n.length,i=t.length,r=s,o=0,l=0,c=t[i-1].nextSibling,a=null;for(;o<i||l<r;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[r-1];)i--,r--;if(i===o){const f=r<s?l?n[l-1].nextSibling:n[r-l]:c;for(;l<r;)e.insertBefore(n[l++],f)}else if(r===l)for(;o<i;)(!a||!a.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[r-1]&&n[l]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--r],f),t[i]=n[r]}else{if(!a){a=new Map;let b=l;for(;b<r;)a.set(n[b],b++)}const f=a.get(t[o]);if(f!=null)if(l<f&&f<r){let b=o,h=1,g;for(;++b<i&&b<r&&!((g=a.get(t[b]))==null||g!==f+h);)h++;if(h>f-l){const w=t[o];for(;l<f;)e.insertBefore(n[l++],w)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const ue="_$DX_DELEGATE";function Ue(e,t,n,s={}){let i;return V(r=>{i=r,t===document?e():De(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{i(),t.textContent=""}}function et(e,t,n){const s=document.createElement("template");s.innerHTML=e;let i=s.content.firstChild;return n&&(i=i.firstChild),i}function tt(e,t=window.document){const n=t[ue]||(t[ue]=new Set);for(let s=0,i=e.length;s<i;s++){const r=e[s];n.has(r)||(n.add(r),t.addEventListener(r,Se))}}function nt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function st(e,t){t==null?e.removeAttribute("class"):e.className=t}function De(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return X(e,t,s,n);K(i=>X(e,t(),i,n),s)}function _e(e,t,n={}){u.completed=globalThis._$HY.completed,u.events=globalThis._$HY.events,u.load=globalThis._$HY.load,u.gather=i=>ae(t,i),u.registry=new Map,u.context={id:n.renderId||"",count:0},ae(t,n.renderId);const s=Ue(e,t,[...t.childNodes],n);return u.context=null,s}function it(e){let t,n;return!u.context||!(t=u.registry.get(n=Ye()))?e.cloneNode(!0):(u.completed&&u.completed.add(t),u.registry.delete(n),t)}function rt(e){let t=e,n=0,s=[];if(u.context)for(;t;){if(t.nodeType===8){const i=t.nodeValue;if(i==="#")n++;else if(i==="/"){if(n===0)return[t,s];n--}}s.push(t),t=t.nextSibling}return[t,s]}function lt(){u.events&&!u.events.queued&&(queueMicrotask(()=>{const{completed:e,events:t}=u;for(t.queued=!1;t.length;){const[n,s]=t[0];if(!e.has(n))return;Se(s),t.shift()}}),u.events.queued=!0)}function Se(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),u.registry&&!u.done&&(u.done=!0,document.querySelectorAll("[id^=pl-]").forEach(s=>s.remove()));n!==null;){const s=n[t];if(s&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?s.call(n,i,e):s.call(n,e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function X(e,t,n,s,i){for(u.context&&!n&&(n=[...e.childNodes]);typeof n=="function";)n=n();if(t===n)return n;const r=typeof t,o=s!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,r==="string"||r==="number"){if(u.context)return n;if(r==="number"&&(t=t.toString()),o){let l=n[0];l&&l.nodeType===3?l.data=t:l=document.createTextNode(t),n=M(e,n,s,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||r==="boolean"){if(u.context)return n;n=M(e,n,s)}else{if(r==="function")return K(()=>{let l=t();for(;typeof l=="function";)l=l();n=X(e,l,n,s)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(te(l,t,n,i))return K(()=>n=X(e,l,n,s,!0)),()=>n;if(u.context){if(!l.length)return n;for(let a=0;a<l.length;a++)if(l[a].parentNode)return n=l}if(l.length===0){if(n=M(e,n,s),o)return n}else c?n.length===0?ce(e,l,s):Ve(e,n,l):(n&&M(e),ce(e,l));n=l}else if(t instanceof Node){if(u.context&&t.parentNode)return n=o?[t]:t;if(Array.isArray(n)){if(o)return n=M(e,n,s,t);M(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function te(e,t,n,s){let i=!1;for(let r=0,o=t.length;r<o;r++){let l=t[r],c=n&&n[r];if(l instanceof Node)e.push(l);else if(!(l==null||l===!0||l===!1))if(Array.isArray(l))i=te(e,l,c)||i;else if(typeof l=="function")if(s){for(;typeof l=="function";)l=l();i=te(e,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||i}else e.push(l),i=!0;else{const a=String(l);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return i}function ce(e,t,n=null){for(let s=0,i=t.length;s<i;s++)e.insertBefore(t[s],n)}function M(e,t,n,s){if(n===void 0)return e.textContent="";const i=s||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const c=l.parentNode===e;!r&&!o?c?e.replaceChild(i,l):e.insertBefore(i,n):c&&l.remove()}else r=!0}}else e.insertBefore(i,n);return[i]}function ae(e,t){const n=e.querySelectorAll("*[data-hk]");for(let s=0;s<n.length;s++){const i=n[s],r=i.getAttribute("data-hk");(!t||r.startsWith(t))&&!u.registry.has(r)&&u.registry.set(r,i)}}function Ye(){const e=u.context;return`${e.id}${e.count++}`}const ot=(...e)=>(Me(),_e(...e));export{Ke as $,Ze as E,Qe as F,ze as S,ke as a,We as b,O as c,tt as d,N as e,Ge as f,Xe as g,it as h,rt as i,De as j,Fe as k,K as l,st as m,Je as n,u as o,Ue as p,ot as q,lt as r,nt as s,et as t};
