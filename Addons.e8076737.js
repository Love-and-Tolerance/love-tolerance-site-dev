import{$ as Et,q as me,v as ze,w as Tt,c as Mt,j as mt,g as lt,p as Ct,i as ot,n as at,M as ge,s as vt,F as It,b as zt,S as Ot,x as or,y as lr,z as Dt,t as dt,d as ae,A as se,B as Oe,r as oe,C as cr,E as ur,G as hr}from"./chunks/web.e528310c.js";import{p as le,g as ce,f as Ie,h as dr,a as ue}from"./chunks/zod.31fd83aa.js";import{c as St}from"./chunks/_commonjsHelpers.a38734a3.js";import{m as V}from"./chunks/index.cf4744a4.js";var Re={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(h){(function(){var v={}.hasOwnProperty;function r(){for(var b=[],l=0;l<arguments.length;l++){var n=arguments[l];if(!!n){var a=typeof n;if(a==="string"||a==="number")b.push(n);else if(Array.isArray(n)){if(n.length){var e=r.apply(null,n);e&&b.push(e)}}else if(a==="object"){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){b.push(n.toString());continue}for(var s in n)v.call(n,s)&&n[s]&&b.push(s)}}}return b.join(" ")}h.exports?(r.default=r,h.exports=r):window.classNames=r})()})(Re);const Be=Re.exports,Qt=Symbol("store-raw"),Ft=Symbol("store-node"),fr=Symbol("store-name");function $e(h){let v;return h!=null&&typeof h=="object"&&(h[Et]||!(v=Object.getPrototypeOf(h))||v===Object.prototype||Array.isArray(h))}function Wt(h,v=new Set){let r,b,l,n;if(r=h!=null&&h[Qt])return r;if(!$e(h)||v.has(h))return h;if(Array.isArray(h)){Object.isFrozen(h)?h=h.slice(0):v.add(h);for(let a=0,e=h.length;a<e;a++)l=h[a],(b=Wt(l,v))!==l&&(h[a]=b)}else{Object.isFrozen(h)?h=Object.assign({},h):v.add(h);const a=Object.keys(h),e=Object.getOwnPropertyDescriptors(h);for(let s=0,d=a.length;s<d;s++)n=a[s],!e[n].get&&(l=h[n],(b=Wt(l,v))!==l&&(h[n]=b))}return h}function he(h){let v=h[Ft];return v||Object.defineProperty(h,Ft,{value:v={}}),v}function te(h,v,r){return h[v]||(h[v]=Te(r))}function je(h){if(ze()){const v=he(h);(v._||(v._=Te()))()}}function pr(h){return je(h),Reflect.ownKeys(h)}function Te(h){const[v,r]=Mt(h,{equals:!1,internal:!0});return v.$=r,v}function _e(h,v,r,b=!1){if(!b&&h[v]===r)return;const l=h[v],n=h.length;r===void 0?delete h[v]:h[v]=r;let a=he(h),e;(e=te(a,v,l))&&e.$(()=>r),Array.isArray(h)&&h.length!==n&&(e=te(a,"length",n))&&e.$(h.length),(e=a._)&&e.$()}function mr(h,v){const r=Reflect.getOwnPropertyDescriptor(h,v);return!r||r.get||r.set||!r.configurable||v===Et||v===Ft||v===fr||(delete r.value,delete r.writable,r.get=()=>h[Et][v],r.set=b=>h[Et][v]=b),r}const gr={get(h,v,r){if(v===Qt)return h;if(v===Et)return r;if(v===me)return je(h),r;const b=he(h),l=b.hasOwnProperty(v);let n=l?b[v]():h[v];if(v===Ft||v==="__proto__")return n;if(!l){const a=Object.getOwnPropertyDescriptor(h,v),e=typeof n=="function";if(ze()&&(!e||h.hasOwnProperty(v))&&!(a&&a.get))n=te(b,v,n)();else if(n!=null&&e&&n===Array.prototype[v])return(...s)=>Tt(()=>Array.prototype[v].apply(r,s))}return $e(n)?De(n):n},has(h,v){return v===Qt||v===Et||v===me||v===Ft||v==="__proto__"?!0:(this.get(h,v,h),v in h)},set(h,v,r){return Tt(()=>_e(h,v,Wt(r))),!0},deleteProperty(h,v){return Tt(()=>_e(h,v,void 0,!0)),!0},ownKeys:pr,getOwnPropertyDescriptor:mr};function De(h,v){let r=h[Et];if(!r){Object.defineProperty(h,Et,{value:r=new Proxy(h,gr)});const b=Object.keys(h),l=Object.getOwnPropertyDescriptors(h);for(let n=0,a=b.length;n<a;n++){const e=b[n];if(l[e].get){const s=l[e].get.bind(r);Object.defineProperty(h,e,{get:s})}if(l[e].set){const s=l[e].set;Object.defineProperty(h,e,{set:p=>Tt(()=>s.call(r,p))})}}}return r}function Kt(h,v){const r=Wt(h||{});return De(r)}async function ee(h,v){const r=await fetch(h,{headers:{Accept:"application/json"}});if(r.status!==200)throw new Error(`Failed to fetch json "${h}": ${r.status}`);const b=await r.json();return v.parse(b)}function Jt(h){for(const v in h)delete h[v]}function Zt(h,v){if(typeof v=="string")return v;if(Array.isArray(v)){for(const r of v)if(r.trigger==="DEFAULT"||h.includes(r.trigger))return r.value}return"HEAD"}const _r=dt('<div class="hstack"><i></i><!#><!/></div>'),ve=dt("<a></a>"),vr=dt("<span><!#><!/>:</span>"),br=dt("<span></span>"),yr=h=>{const v=mt(()=>h.data.name.startsWith("CurseForge")?"icon icon-curseforge":h.data.name.startsWith("Modrinth")?"icon icon-modrinth":"fas fa-globe");return(()=>{const r=lt(_r),b=r.firstChild,l=b.nextSibling,[n,a]=Ct(l.nextSibling);return ot(r,at(lr,{get children(){return[at(ge,{get when(){return wr(h.data.url)},keyed:!0,children:e=>(()=>{const s=lt(ve);return vt(s,"href",e),ot(s,()=>h.data.name),s})()}),at(ge,{get when(){return kr(h.data.url)},keyed:!0,children:e=>[(()=>{const s=lt(vr),d=s.firstChild,[p,y]=Ct(d.nextSibling);return p.nextSibling,ot(s,()=>h.data.name,p,y),s})(),at(It,{each:e,children:(s,d)=>[(()=>{const p=lt(ve);return ot(p,()=>s.name),zt(()=>vt(p,"href",s.value)),p})(),at(Ot,{get when(){return d()+1<e.length},get children(){const p=lt(br);return or(p,"&bullet;"),p}})]})]})]}}),n,a),zt(()=>Dt(b,v())),r})()};function wr(h){return typeof h=="string"?h:null}function kr(h){return Array.isArray(h)?h:null}const xr=dt('<i class="text-muted fas fa-star" title="Recommended"></i>'),Sr=dt('<div class="hcard"><div class="hcard-body"><div class="hcard-image"><img></div><div class="hcard-content"><div class="hcard-title"><div class="hcard-title__left"><h5></h5><!#><!/><a class="icon-link"><i class="fab fa-github"></i></a></div><div class="hcard-title__right"><!#><!/><button><span></span><i></i></button></div></div><p></p></div></div><!#><!/></div>'),Ar=dt('<div class="text-muted"></div>'),Er=dt('<div class="hcard-footer"></div>'),Cr=h=>{const v=mt(()=>le(h.data.url)),r=mt(()=>Zt(h.triggers,h.data.branch)),b=mt(()=>{const[a,e]=v();return ce(a,e,r(),"pack.png")}),[l]=se(v,async([a,e])=>{const{description:s}=await Ie(a,e);return s}),n=mt(()=>h.active?["btn--primary","Disable","fa-xmark"]:["btn--light","Enable","fa-check"]);return(()=>{const a=lt(Sr),e=a.firstChild,s=e.firstChild,d=s.firstChild,p=s.nextSibling,y=p.firstChild,f=y.firstChild,o=f.firstChild,m=o.nextSibling,[c,g]=Ct(m.nextSibling),u=c.nextSibling,w=f.nextSibling,x=w.firstChild,[E,A]=Ct(x.nextSibling),O=E.nextSibling,R=O.firstChild,L=R.nextSibling,$=y.nextSibling,M=e.nextSibling,[X,S]=Ct(M.nextSibling);return ot(o,()=>h.data.name),ot(f,at(Ot,{get when(){return h.data.recommended},get children(){return lt(xr)}}),c,g),ot(w,at(Ot,{get when(){return h.data.info},keyed:!0,children:B=>(()=>{const i=lt(Ar);return ot(i,()=>B.join(", ")),i})()}),E,A),O.$$click=()=>h.onToggle(!h.active),ot(R,()=>n()[1]),ot($,at(Oe,{fallback:"Loading ...",get children(){return l()??"No description"}})),ot(a,at(Ot,{get when(){return h.data.links},keyed:!0,children:B=>(()=>{const i=lt(Er);return ot(i,at(It,{each:B,children:D=>at(yr,{data:D})})),i})()}),X,S),zt(B=>{const i=!!h.active,D=b(),tt=`"${h.data.name}" add-on image`,U=h.data.url,et=`"${h.data.name}" add-on GitHub repo`,W=`btn ${n()[0]}`,Q=`fa ${n()[2]}`;return i!==B._v$&&a.classList.toggle("hcard-active",B._v$=i),D!==B._v$2&&vt(d,"src",B._v$2=D),tt!==B._v$3&&vt(d,"alt",B._v$3=tt),U!==B._v$4&&vt(u,"href",B._v$4=U),et!==B._v$5&&vt(u,"title",B._v$5=et),W!==B._v$6&&Dt(O,B._v$6=W),Q!==B._v$7&&Dt(L,B._v$7=Q),B},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),oe(),a})()};ae(["click"]);var Fe={exports:{}};(function(h,v){(function(r,b){b()})(St,function(){function r(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function b(d,p,y){var f=new XMLHttpRequest;f.open("GET",d),f.responseType="blob",f.onload=function(){s(f.response,p,y)},f.onerror=function(){console.error("could not download file")},f.send()}function l(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function n(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof St=="object"&&St.global===St?St:void 0,e=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!e?function(d,p,y){var f=a.URL||a.webkitURL,o=document.createElement("a");p=p||d.name||"download",o.download=p,o.rel="noopener",typeof d=="string"?(o.href=d,o.origin===location.origin?n(o):l(o.href)?b(d,p,y):n(o,o.target="_blank")):(o.href=f.createObjectURL(d),setTimeout(function(){f.revokeObjectURL(o.href)},4e4),setTimeout(function(){n(o)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,y){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(r(d,y),p);else if(l(d))b(d,p,y);else{var f=document.createElement("a");f.href=d,f.target="_blank",setTimeout(function(){n(f)})}}:function(d,p,y,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof d=="string")return b(d,p,y);var o=d.type==="application/octet-stream",m=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&m||e)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=c?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=x:location=x,f=null},g.readAsDataURL(d)}else{var u=a.URL||a.webkitURL,w=u.createObjectURL(d);f?f.location=w:location.href=w,f=null,setTimeout(function(){u.revokeObjectURL(w)},4e4)}});a.saveAs=s.saveAs=s,h.exports=s})})(Fe);function Pt(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Le={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(h,v){(function(r){h.exports=r()})(function(){return function r(b,l,n){function a(d,p){if(!l[d]){if(!b[d]){var y=typeof Pt=="function"&&Pt;if(!p&&y)return y(d,!0);if(e)return e(d,!0);var f=new Error("Cannot find module '"+d+"'");throw f.code="MODULE_NOT_FOUND",f}var o=l[d]={exports:{}};b[d][0].call(o.exports,function(m){var c=b[d][1][m];return a(c||m)},o,o.exports,r,b,l,n)}return l[d].exports}for(var e=typeof Pt=="function"&&Pt,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(r,b,l){var n=r("./utils"),a=r("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(s){for(var d,p,y,f,o,m,c,g=[],u=0,w=s.length,x=w,E=n.getTypeOf(s)!=="string";u<s.length;)x=w-u,y=E?(d=s[u++],p=u<w?s[u++]:0,u<w?s[u++]:0):(d=s.charCodeAt(u++),p=u<w?s.charCodeAt(u++):0,u<w?s.charCodeAt(u++):0),f=d>>2,o=(3&d)<<4|p>>4,m=1<x?(15&p)<<2|y>>6:64,c=2<x?63&y:64,g.push(e.charAt(f)+e.charAt(o)+e.charAt(m)+e.charAt(c));return g.join("")},l.decode=function(s){var d,p,y,f,o,m,c=0,g=0,u="data:";if(s.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var w,x=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===e.charAt(64)&&x--,s.charAt(s.length-2)===e.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=a.uint8array?new Uint8Array(0|x):new Array(0|x);c<s.length;)d=e.indexOf(s.charAt(c++))<<2|(f=e.indexOf(s.charAt(c++)))>>4,p=(15&f)<<4|(o=e.indexOf(s.charAt(c++)))>>2,y=(3&o)<<6|(m=e.indexOf(s.charAt(c++))),w[g++]=d,o!==64&&(w[g++]=p),m!==64&&(w[g++]=y);return w}},{"./support":30,"./utils":32}],2:[function(r,b,l){var n=r("./external"),a=r("./stream/DataWorker"),e=r("./stream/Crc32Probe"),s=r("./stream/DataLengthProbe");function d(p,y,f,o,m){this.compressedSize=p,this.uncompressedSize=y,this.crc32=f,this.compression=o,this.compressedContent=m}d.prototype={getContentWorker:function(){var p=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),y=this;return p.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(p,y,f){return p.pipe(new e).pipe(new s("uncompressedSize")).pipe(y.compressWorker(f)).pipe(new s("compressedSize")).withStreamInfo("compression",y)},b.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,b,l){var n=r("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},l.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,b,l){var n=r("./utils"),a=function(){for(var e,s=[],d=0;d<256;d++){e=d;for(var p=0;p<8;p++)e=1&e?3988292384^e>>>1:e>>>1;s[d]=e}return s}();b.exports=function(e,s){return e!==void 0&&e.length?n.getTypeOf(e)!=="string"?function(d,p,y,f){var o=a,m=f+y;d^=-1;for(var c=f;c<m;c++)d=d>>>8^o[255&(d^p[c])];return-1^d}(0|s,e,e.length,0):function(d,p,y,f){var o=a,m=f+y;d^=-1;for(var c=f;c<m;c++)d=d>>>8^o[255&(d^p.charCodeAt(c))];return-1^d}(0|s,e,e.length,0):0}},{"./utils":32}],5:[function(r,b,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(r,b,l){var n=null;n=typeof Promise<"u"?Promise:r("lie"),b.exports={Promise:n}},{lie:37}],7:[function(r,b,l){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),e=r("./utils"),s=r("./stream/GenericWorker"),d=n?"uint8array":"array";function p(y,f){s.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=f,this.meta={}}l.magic="\b\0",e.inherits(p,s),p.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(e.transformTo(d,y.data),!1)},p.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(f){y.push({data:f,meta:y.meta})}},l.compressWorker=function(y){return new p("Deflate",y)},l.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,b,l){function n(o,m){var c,g="";for(c=0;c<m;c++)g+=String.fromCharCode(255&o),o>>>=8;return g}function a(o,m,c,g,u,w){var x,E,A=o.file,O=o.compression,R=w!==d.utf8encode,L=e.transformTo("string",w(A.name)),$=e.transformTo("string",d.utf8encode(A.name)),M=A.comment,X=e.transformTo("string",w(M)),S=e.transformTo("string",d.utf8encode(M)),B=$.length!==A.name.length,i=S.length!==M.length,D="",tt="",U="",et=A.dir,W=A.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};m&&!c||(Q.crc32=o.crc32,Q.compressedSize=o.compressedSize,Q.uncompressedSize=o.uncompressedSize);var j=0;m&&(j|=8),R||!B&&!i||(j|=2048);var I=0,q=0;et&&(I|=16),u==="UNIX"?(q=798,I|=function(G,ct){var pt=G;return G||(pt=ct?16893:33204),(65535&pt)<<16}(A.unixPermissions,et)):(q=20,I|=function(G){return 63&(G||0)}(A.dosPermissions)),x=W.getUTCHours(),x<<=6,x|=W.getUTCMinutes(),x<<=5,x|=W.getUTCSeconds()/2,E=W.getUTCFullYear()-1980,E<<=4,E|=W.getUTCMonth()+1,E<<=5,E|=W.getUTCDate(),B&&(tt=n(1,1)+n(p(L),4)+$,D+="up"+n(tt.length,2)+tt),i&&(U=n(1,1)+n(p(X),4)+S,D+="uc"+n(U.length,2)+U);var K="";return K+=`
\0`,K+=n(j,2),K+=O.magic,K+=n(x,2),K+=n(E,2),K+=n(Q.crc32,4),K+=n(Q.compressedSize,4),K+=n(Q.uncompressedSize,4),K+=n(L.length,2),K+=n(D.length,2),{fileRecord:y.LOCAL_FILE_HEADER+K+L+D,dirRecord:y.CENTRAL_FILE_HEADER+n(q,2)+K+n(X.length,2)+"\0\0\0\0"+n(I,4)+n(g,4)+L+D+X}}var e=r("../utils"),s=r("../stream/GenericWorker"),d=r("../utf8"),p=r("../crc32"),y=r("../signature");function f(o,m,c,g){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=c,this.encodeFileName=g,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(f,s),f.prototype.push=function(o){var m=o.meta.percent||0,c=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,s.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:c?(m+100*(c-g-1))/c:100}}))},f.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var m=this.streamFiles&&!o.file.dir;if(m){var c=a(o,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(o){this.accumulate=!1;var m=this.streamFiles&&!o.file.dir,c=a(o,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),m)this.push({data:function(g){return y.DATA_DESCRIPTOR+n(g.crc32,4)+n(g.compressedSize,4)+n(g.uncompressedSize,4)}(o),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var o=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var c=this.bytesWritten-o,g=function(u,w,x,E,A){var O=e.transformTo("string",A(E));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(u,2)+n(u,2)+n(w,4)+n(x,4)+n(O.length,2)+O}(this.dirRecords.length,c,o,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(o){this._sources.push(o);var m=this;return o.on("data",function(c){m.processChunk(c)}),o.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),o.on("error",function(c){m.error(c)}),this},f.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(o){var m=this._sources;if(!s.prototype.error.call(this,o))return!1;for(var c=0;c<m.length;c++)try{m[c].error(o)}catch{}return!0},f.prototype.lock=function(){s.prototype.lock.call(this);for(var o=this._sources,m=0;m<o.length;m++)o[m].lock()},b.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,b,l){var n=r("../compressions"),a=r("./ZipFileWorker");l.generateWorker=function(e,s,d){var p=new a(s.streamFiles,d,s.platform,s.encodeFileName),y=0;try{e.forEach(function(f,o){y++;var m=function(w,x){var E=w||x,A=n[E];if(!A)throw new Error(E+" is not a valid compression method !");return A}(o.options.compression,s.compression),c=o.options.compressionOptions||s.compressionOptions||{},g=o.dir,u=o.date;o._compressWorker(m,c).withStreamInfo("file",{name:f,dir:g,date:u,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(p)}),p.entriesCount=y}catch(f){p.error(f)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,b,l){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var e in this)typeof this[e]!="function"&&(a[e]=this[e]);return a}}(n.prototype=r("./object")).loadAsync=r("./load"),n.support=r("./support"),n.defaults=r("./defaults"),n.version="3.10.1",n.loadAsync=function(a,e){return new n().loadAsync(a,e)},n.external=r("./external"),b.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,b,l){var n=r("./utils"),a=r("./external"),e=r("./utf8"),s=r("./zipEntries"),d=r("./stream/Crc32Probe"),p=r("./nodejsUtils");function y(f){return new a.Promise(function(o,m){var c=f.decompressed.getContentWorker().pipe(new d);c.on("error",function(g){m(g)}).on("end",function(){c.streamInfo.crc32!==f.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}b.exports=function(f,o){var m=this;return o=n.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),p.isNode&&p.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",f,!0,o.optimizedBinaryString,o.base64).then(function(c){var g=new s(o);return g.load(c),g}).then(function(c){var g=[a.Promise.resolve(c)],u=c.files;if(o.checkCRC32)for(var w=0;w<u.length;w++)g.push(y(u[w]));return a.Promise.all(g)}).then(function(c){for(var g=c.shift(),u=g.files,w=0;w<u.length;w++){var x=u[w],E=x.fileNameStr,A=n.resolve(x.fileNameStr);m.file(A,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:o.createFolders}),x.dir||(m.file(A).unsafeOriginalName=E)}return g.zipComment.length&&(m.comment=g.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,b,l){var n=r("../utils"),a=r("../stream/GenericWorker");function e(s,d){a.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(d)}n.inherits(e,a),e.prototype._bindStream=function(s){var d=this;(this._stream=s).pause(),s.on("data",function(p){d.push({data:p,meta:{percent:0}})}).on("error",function(p){d.isPaused?this.generatedError=p:d.error(p)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},e.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,b,l){var n=r("readable-stream").Readable;function a(e,s,d){n.call(this,s),this._helper=e;var p=this;e.on("data",function(y,f){p.push(y)||p._helper.pause(),d&&d(f)}).on("error",function(y){p.emit("error",y)}).on("end",function(){p.push(null)})}r("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},b.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,b,l){b.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(r,b,l){function n(A,O,R){var L,$=e.getTypeOf(O),M=e.extend(R||{},p);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(A=u(A)),M.createFolders&&(L=g(A))&&w.call(this,L,!0);var X=$==="string"&&M.binary===!1&&M.base64===!1;R&&R.binary!==void 0||(M.binary=!X),(O instanceof y&&O.uncompressedSize===0||M.dir||!O||O.length===0)&&(M.base64=!1,M.binary=!0,O="",M.compression="STORE",$="string");var S=null;S=O instanceof y||O instanceof s?O:m.isNode&&m.isStream(O)?new c(A,O):e.prepareContent(A,O,M.binary,M.optimizedBinaryString,M.base64);var B=new f(A,S,M);this.files[A]=B}var a=r("./utf8"),e=r("./utils"),s=r("./stream/GenericWorker"),d=r("./stream/StreamHelper"),p=r("./defaults"),y=r("./compressedObject"),f=r("./zipObject"),o=r("./generate"),m=r("./nodejsUtils"),c=r("./nodejs/NodejsStreamInputAdapter"),g=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var O=A.lastIndexOf("/");return 0<O?A.substring(0,O):""},u=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},w=function(A,O){return O=O!==void 0?O:p.createFolders,A=u(A),this.files[A]||n.call(this,A,null,{dir:!0,createFolders:O}),this.files[A]};function x(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var O,R,L;for(O in this.files)L=this.files[O],(R=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&A(R,L)},filter:function(A){var O=[];return this.forEach(function(R,L){A(R,L)&&O.push(L)}),O},file:function(A,O,R){if(arguments.length!==1)return A=this.root+A,n.call(this,A,O,R),this;if(x(A)){var L=A;return this.filter(function(M,X){return!X.dir&&L.test(M)})}var $=this.files[this.root+A];return $&&!$.dir?$:null},folder:function(A){if(!A)return this;if(x(A))return this.filter(function($,M){return M.dir&&A.test($)});var O=this.root+A,R=w.call(this,O),L=this.clone();return L.root=R.name,L},remove:function(A){A=this.root+A;var O=this.files[A];if(O||(A.slice(-1)!=="/"&&(A+="/"),O=this.files[A]),O&&!O.dir)delete this.files[A];else for(var R=this.filter(function($,M){return M.name.slice(0,A.length)===A}),L=0;L<R.length;L++)delete this.files[R[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var O,R={};try{if((R=e.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");e.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var L=R.comment||this.comment||"";O=o.generateWorker(this,R,L)}catch($){(O=new s("error")).error($)}return new d(O,R.type||"string",R.mimeType)},generateAsync:function(A,O){return this.generateInternalStream(A).accumulate(O)},generateNodeStream:function(A,O){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(O)}};b.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,b,l){b.exports=r("stream")},{stream:void 0}],17:[function(r,b,l){var n=r("./DataReader");function a(e){n.call(this,e);for(var s=0;s<this.data.length;s++)e[s]=255&e[s]}r("../utils").inherits(a,n),a.prototype.byteAt=function(e){return this.data[this.zero+e]},a.prototype.lastIndexOfSignature=function(e){for(var s=e.charCodeAt(0),d=e.charCodeAt(1),p=e.charCodeAt(2),y=e.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===s&&this.data[f+1]===d&&this.data[f+2]===p&&this.data[f+3]===y)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(e){var s=e.charCodeAt(0),d=e.charCodeAt(1),p=e.charCodeAt(2),y=e.charCodeAt(3),f=this.readData(4);return s===f[0]&&d===f[1]&&p===f[2]&&y===f[3]},a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},b.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,b,l){var n=r("../utils");function a(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var s,d=0;for(this.checkOffset(e),s=this.index+e-1;s>=this.index;s--)d=(d<<8)+this.byteAt(s);return this.index+=e,d},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},b.exports=a},{"../utils":32}],19:[function(r,b,l){var n=r("./Uint8ArrayReader");function a(e){n.call(this,e)}r("../utils").inherits(a,n),a.prototype.readData=function(e){this.checkOffset(e);var s=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},b.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,b,l){var n=r("./DataReader");function a(e){n.call(this,e)}r("../utils").inherits(a,n),a.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},a.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},a.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},a.prototype.readData=function(e){this.checkOffset(e);var s=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},b.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,b,l){var n=r("./ArrayReader");function a(e){n.call(this,e)}r("../utils").inherits(a,n),a.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,s},b.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,b,l){var n=r("../utils"),a=r("../support"),e=r("./ArrayReader"),s=r("./StringReader"),d=r("./NodeBufferReader"),p=r("./Uint8ArrayReader");b.exports=function(y){var f=n.getTypeOf(y);return n.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new d(y):a.uint8array?new p(n.transformTo("uint8array",y)):new e(n.transformTo("array",y)):new s(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,b,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,b,l){var n=r("./GenericWorker"),a=r("../utils");function e(s){n.call(this,"ConvertWorker to "+s),this.destType=s}a.inherits(e,n),e.prototype.processChunk=function(s){this.push({data:a.transformTo(this.destType,s.data),meta:s.meta})},b.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(r,b,l){var n=r("./GenericWorker"),a=r("../crc32");function e(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(e,n),e.prototype.processChunk=function(s){this.streamInfo.crc32=a(s.data,this.streamInfo.crc32||0),this.push(s)},b.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,b,l){var n=r("../utils"),a=r("./GenericWorker");function e(s){a.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}n.inherits(e,a),e.prototype.processChunk=function(s){if(s){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+s.data.length}a.prototype.processChunk.call(this,s)},b.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(r,b,l){var n=r("../utils"),a=r("./GenericWorker");function e(s){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(p){d.dataIsReady=!0,d.data=p,d.max=p&&p.length||0,d.type=n.getTypeOf(p),d.isPaused||d._tickAndRepeat()},function(p){d.error(p)})}n.inherits(e,a),e.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,d);break;case"uint8array":s=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":s=this.data.slice(this.index,d)}return this.index=d,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(r,b,l){function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,e){return this._listeners[a].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,e){if(this._listeners[a])for(var s=0;s<this._listeners[a].length;s++)this._listeners[a][s].call(this,e)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var e=this;return a.on("data",function(s){e.processChunk(s)}),a.on("end",function(){e.end()}),a.on("error",function(s){e.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,e){return this.extraStreamInfo[a]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},b.exports=n},{}],29:[function(r,b,l){var n=r("../utils"),a=r("./ConvertWorker"),e=r("./GenericWorker"),s=r("../base64"),d=r("../support"),p=r("../external"),y=null;if(d.nodestream)try{y=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(m,c){return new p.Promise(function(g,u){var w=[],x=m._internalType,E=m._outputType,A=m._mimeType;m.on("data",function(O,R){w.push(O),c&&c(R)}).on("error",function(O){w=[],u(O)}).on("end",function(){try{var O=function(R,L,$){switch(R){case"blob":return n.newBlob(n.transformTo("arraybuffer",L),$);case"base64":return s.encode(L);default:return n.transformTo(R,L)}}(E,function(R,L){var $,M=0,X=null,S=0;for($=0;$<L.length;$++)S+=L[$].length;switch(R){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(X=new Uint8Array(S),$=0;$<L.length;$++)X.set(L[$],M),M+=L[$].length;return X;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+R+"'")}}(x,w),A);g(O)}catch(R){u(R)}w=[]}).resume()})}function o(m,c,g){var u=c;switch(c){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=c,this._mimeType=g,n.checkSupport(u),this._worker=m.pipe(new a(u)),m.lock()}catch(w){this._worker=new e("error"),this._worker.error(w)}}o.prototype={accumulate:function(m){return f(this,m)},on:function(m,c){var g=this;return m==="data"?this._worker.on(m,function(u){c.call(g,u.data,u.meta)}):this._worker.on(m,function(){n.delay(c,arguments,g)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},m)}},b.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,b,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var n=new ArrayBuffer(0);try{l.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),l.blob=a.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!r("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(r,b,l){for(var n=r("./utils"),a=r("./support"),e=r("./nodejsUtils"),s=r("./stream/GenericWorker"),d=new Array(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;d[254]=d[254]=1;function y(){s.call(this,"utf-8 decode"),this.leftOver=null}function f(){s.call(this,"utf-8 encode")}l.utf8encode=function(o){return a.nodebuffer?e.newBufferFrom(o,"utf-8"):function(m){var c,g,u,w,x,E=m.length,A=0;for(w=0;w<E;w++)(64512&(g=m.charCodeAt(w)))==55296&&w+1<E&&(64512&(u=m.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(u-56320),w++),A+=g<128?1:g<2048?2:g<65536?3:4;for(c=a.uint8array?new Uint8Array(A):new Array(A),w=x=0;x<A;w++)(64512&(g=m.charCodeAt(w)))==55296&&w+1<E&&(64512&(u=m.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(u-56320),w++),g<128?c[x++]=g:(g<2048?c[x++]=192|g>>>6:(g<65536?c[x++]=224|g>>>12:(c[x++]=240|g>>>18,c[x++]=128|g>>>12&63),c[x++]=128|g>>>6&63),c[x++]=128|63&g);return c}(o)},l.utf8decode=function(o){return a.nodebuffer?n.transformTo("nodebuffer",o).toString("utf-8"):function(m){var c,g,u,w,x=m.length,E=new Array(2*x);for(c=g=0;c<x;)if((u=m[c++])<128)E[g++]=u;else if(4<(w=d[u]))E[g++]=65533,c+=w-1;else{for(u&=w===2?31:w===3?15:7;1<w&&c<x;)u=u<<6|63&m[c++],w--;1<w?E[g++]=65533:u<65536?E[g++]=u:(u-=65536,E[g++]=55296|u>>10&1023,E[g++]=56320|1023&u)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),n.applyFromCharCode(E)}(o=n.transformTo(a.uint8array?"uint8array":"array",o))},n.inherits(y,s),y.prototype.processChunk=function(o){var m=n.transformTo(a.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var c=m;(m=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),m.set(c,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var g=function(w,x){var E;for((x=x||w.length)>w.length&&(x=w.length),E=x-1;0<=E&&(192&w[E])==128;)E--;return E<0||E===0?x:E+d[w[E]]>x?E:x}(m),u=m;g!==m.length&&(a.uint8array?(u=m.subarray(0,g),this.leftOver=m.subarray(g,m.length)):(u=m.slice(0,g),this.leftOver=m.slice(g,m.length))),this.push({data:l.utf8decode(u),meta:o.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=y,n.inherits(f,s),f.prototype.processChunk=function(o){this.push({data:l.utf8encode(o.data),meta:o.meta})},l.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,b,l){var n=r("./support"),a=r("./base64"),e=r("./nodejsUtils"),s=r("./external");function d(c){return c}function p(c,g){for(var u=0;u<c.length;++u)g[u]=255&c.charCodeAt(u);return g}r("setimmediate"),l.newBlob=function(c,g){l.checkSupport("blob");try{return new Blob([c],{type:g})}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(c),u.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(c,g,u){var w=[],x=0,E=c.length;if(E<=u)return String.fromCharCode.apply(null,c);for(;x<E;)g==="array"||g==="nodebuffer"?w.push(String.fromCharCode.apply(null,c.slice(x,Math.min(x+u,E)))):w.push(String.fromCharCode.apply(null,c.subarray(x,Math.min(x+u,E)))),x+=u;return w.join("")},stringifyByChar:function(c){for(var g="",u=0;u<c.length;u++)g+=String.fromCharCode(c[u]);return g},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,e.allocBuffer(1)).length===1}catch{return!1}}()}};function f(c){var g=65536,u=l.getTypeOf(c),w=!0;if(u==="uint8array"?w=y.applyCanBeUsed.uint8array:u==="nodebuffer"&&(w=y.applyCanBeUsed.nodebuffer),w)for(;1<g;)try{return y.stringifyByChunk(c,u,g)}catch{g=Math.floor(g/2)}return y.stringifyByChar(c)}function o(c,g){for(var u=0;u<c.length;u++)g[u]=c[u];return g}l.applyFromCharCode=f;var m={};m.string={string:d,array:function(c){return p(c,new Array(c.length))},arraybuffer:function(c){return m.string.uint8array(c).buffer},uint8array:function(c){return p(c,new Uint8Array(c.length))},nodebuffer:function(c){return p(c,e.allocBuffer(c.length))}},m.array={string:f,array:d,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return e.newBufferFrom(c)}},m.arraybuffer={string:function(c){return f(new Uint8Array(c))},array:function(c){return o(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:d,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return e.newBufferFrom(new Uint8Array(c))}},m.uint8array={string:f,array:function(c){return o(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:d,nodebuffer:function(c){return e.newBufferFrom(c)}},m.nodebuffer={string:f,array:function(c){return o(c,new Array(c.length))},arraybuffer:function(c){return m.nodebuffer.uint8array(c).buffer},uint8array:function(c){return o(c,new Uint8Array(c.length))},nodebuffer:d},l.transformTo=function(c,g){if(g=g||"",!c)return g;l.checkSupport(c);var u=l.getTypeOf(g);return m[u][c](g)},l.resolve=function(c){for(var g=c.split("/"),u=[],w=0;w<g.length;w++){var x=g[w];x==="."||x===""&&w!==0&&w!==g.length-1||(x===".."?u.pop():u.push(x))}return u.join("/")},l.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":n.nodebuffer&&e.isBuffer(c)?"nodebuffer":n.uint8array&&c instanceof Uint8Array?"uint8array":n.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(c){if(!n[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(c){var g,u,w="";for(u=0;u<(c||"").length;u++)w+="\\x"+((g=c.charCodeAt(u))<16?"0":"")+g.toString(16).toUpperCase();return w},l.delay=function(c,g,u){setImmediate(function(){c.apply(u||null,g||[])})},l.inherits=function(c,g){function u(){}u.prototype=g.prototype,c.prototype=new u},l.extend=function(){var c,g,u={};for(c=0;c<arguments.length;c++)for(g in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],g)&&u[g]===void 0&&(u[g]=arguments[c][g]);return u},l.prepareContent=function(c,g,u,w,x){return s.Promise.resolve(g).then(function(E){return n.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new s.Promise(function(A,O){var R=new FileReader;R.onload=function(L){A(L.target.result)},R.onerror=function(L){O(L.target.error)},R.readAsArrayBuffer(E)}):E}).then(function(E){var A=l.getTypeOf(E);return A?(A==="arraybuffer"?E=l.transformTo("uint8array",E):A==="string"&&(x?E=a.decode(E):u&&w!==!0&&(E=function(O){return p(O,n.uint8array?new Uint8Array(O.length):new Array(O.length))}(E))),E):s.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,b,l){var n=r("./reader/readerFor"),a=r("./utils"),e=r("./signature"),s=r("./zipEntry"),d=r("./support");function p(y){this.files=[],this.loadOptions=y}p.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(y)+")")}},isSignature:function(y,f){var o=this.reader.index;this.reader.setIndex(y);var m=this.reader.readString(4)===f;return this.reader.setIndex(o),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),f=d.uint8array?"uint8array":"array",o=a.transformTo(f,y);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,f,o,m=this.zip64EndOfCentralSize-44;0<m;)y=this.reader.readInt(2),f=this.reader.readInt(4),o=this.reader.readData(f),this.zip64ExtensibleData[y]={id:y,length:f,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,f;for(y=0;y<this.files.length;y++)f=this.files[y],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(y=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var f=y;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var m=f-o;if(0<m)this.isSignature(f,e.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(y){this.reader=n(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,b,l){var n=r("./reader/readerFor"),a=r("./utils"),e=r("./compressedObject"),s=r("./crc32"),d=r("./utf8"),p=r("./compressions"),y=r("./support");function f(o,m){this.options=o,this.loadOptions=m}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var m,c;if(o.skip(22),this.fileNameLength=o.readInt(2),c=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(g){for(var u in p)if(Object.prototype.hasOwnProperty.call(p,u)&&p[u].magic===g)return p[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,m,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var m=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(m),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var m,c,g,u=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<u;)m=o.readInt(2),c=o.readInt(2),g=o.readData(c),this.extraFields[m]={id:m,length:c,value:g};o.setIndex(u)},handleUTF8:function(){var o=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var c=a.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var u=a.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var m=n(o.value);return m.readInt(1)!==1||s(this.fileName)!==m.readInt(4)?null:d.utf8decode(m.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var m=n(o.value);return m.readInt(1)!==1||s(this.fileComment)!==m.readInt(4)?null:d.utf8decode(m.readData(o.length-5))}return null}},b.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,b,l){function n(m,c,g){this.name=m,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=c,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var a=r("./stream/StreamHelper"),e=r("./stream/DataWorker"),s=r("./utf8"),d=r("./compressedObject"),p=r("./stream/GenericWorker");n.prototype={internalStream:function(m){var c=null,g="string";try{if(!m)throw new Error("No output type specified.");var u=(g=m.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),c=this._decompressWorker();var w=!this._dataBinary;w&&!u&&(c=c.pipe(new s.Utf8EncodeWorker)),!w&&u&&(c=c.pipe(new s.Utf8DecodeWorker))}catch(x){(c=new p("error")).error(x)}return new a(c,g,"")},async:function(m,c){return this.internalStream(m).accumulate(c)},nodeStream:function(m,c){return this.internalStream(m||"nodebuffer").toNodejsStream(c)},_compressWorker:function(m,c){if(this._data instanceof d&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new s.Utf8EncodeWorker)),d.createWorkerFrom(g,m,c)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof p?this._data:new e(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<y.length;o++)n.prototype[y[o]]=f;b.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,b,l){(function(n){var a,e,s=n.MutationObserver||n.WebKitMutationObserver;if(s){var d=0,p=new s(m),y=n.document.createTextNode("");p.observe(y,{characterData:!0}),a=function(){y.data=d=++d%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var c=n.document.createElement("script");c.onreadystatechange=function(){m(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},n.document.documentElement.appendChild(c)}:function(){setTimeout(m,0)};else{var f=new n.MessageChannel;f.port1.onmessage=m,a=function(){f.port2.postMessage(0)}}var o=[];function m(){var c,g;e=!0;for(var u=o.length;u;){for(g=o,o=[],c=-1;++c<u;)g[c]();u=o.length}e=!1}b.exports=function(c){o.push(c)!==1||e||a()}}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,b,l){var n=r("immediate");function a(){}var e={},s=["REJECTED"],d=["FULFILLED"],p=["PENDING"];function y(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,u!==a&&c(this,u)}function f(u,w,x){this.promise=u,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function o(u,w,x){n(function(){var E;try{E=w(x)}catch(A){return e.reject(u,A)}E===u?e.reject(u,new TypeError("Cannot resolve promise with itself")):e.resolve(u,E)})}function m(u){var w=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof w=="function")return function(){w.apply(u,arguments)}}function c(u,w){var x=!1;function E(R){x||(x=!0,e.reject(u,R))}function A(R){x||(x=!0,e.resolve(u,R))}var O=g(function(){w(A,E)});O.status==="error"&&E(O.value)}function g(u,w){var x={};try{x.value=u(w),x.status="success"}catch(E){x.status="error",x.value=E}return x}(b.exports=y).prototype.finally=function(u){if(typeof u!="function")return this;var w=this.constructor;return this.then(function(x){return w.resolve(u()).then(function(){return x})},function(x){return w.resolve(u()).then(function(){throw x})})},y.prototype.catch=function(u){return this.then(null,u)},y.prototype.then=function(u,w){if(typeof u!="function"&&this.state===d||typeof w!="function"&&this.state===s)return this;var x=new this.constructor(a);return this.state!==p?o(x,this.state===d?u:w,this.outcome):this.queue.push(new f(x,u,w)),x},f.prototype.callFulfilled=function(u){e.resolve(this.promise,u)},f.prototype.otherCallFulfilled=function(u){o(this.promise,this.onFulfilled,u)},f.prototype.callRejected=function(u){e.reject(this.promise,u)},f.prototype.otherCallRejected=function(u){o(this.promise,this.onRejected,u)},e.resolve=function(u,w){var x=g(m,w);if(x.status==="error")return e.reject(u,x.value);var E=x.value;if(E)c(u,E);else{u.state=d,u.outcome=w;for(var A=-1,O=u.queue.length;++A<O;)u.queue[A].callFulfilled(w)}return u},e.reject=function(u,w){u.state=s,u.outcome=w;for(var x=-1,E=u.queue.length;++x<E;)u.queue[x].callRejected(w);return u},y.resolve=function(u){return u instanceof this?u:e.resolve(new this(a),u)},y.reject=function(u){var w=new this(a);return e.reject(w,u)},y.all=function(u){var w=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=u.length,E=!1;if(!x)return this.resolve([]);for(var A=new Array(x),O=0,R=-1,L=new this(a);++R<x;)$(u[R],R);return L;function $(M,X){w.resolve(M).then(function(S){A[X]=S,++O!==x||E||(E=!0,e.resolve(L,A))},function(S){E||(E=!0,e.reject(L,S))})}},y.race=function(u){var w=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=u.length,E=!1;if(!x)return this.resolve([]);for(var A=-1,O=new this(a);++A<x;)R=u[A],w.resolve(R).then(function(L){E||(E=!0,e.resolve(O,L))},function(L){E||(E=!0,e.reject(O,L))});var R;return O}},{immediate:36}],38:[function(r,b,l){var n={};(0,r("./lib/utils/common").assign)(n,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),b.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,b,l){var n=r("./zlib/deflate"),a=r("./utils/common"),e=r("./utils/strings"),s=r("./zlib/messages"),d=r("./zlib/zstream"),p=Object.prototype.toString,y=0,f=-1,o=0,m=8;function c(u){if(!(this instanceof c))return new c(u);this.options=a.assign({level:f,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},u||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=n.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(x!==y)throw new Error(s[x]);if(w.header&&n.deflateSetHeader(this.strm,w.header),w.dictionary){var E;if(E=typeof w.dictionary=="string"?e.string2buf(w.dictionary):p.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(x=n.deflateSetDictionary(this.strm,E))!==y)throw new Error(s[x]);this._dict_set=!0}}function g(u,w){var x=new c(w);if(x.push(u,!0),x.err)throw x.msg||s[x.err];return x.result}c.prototype.push=function(u,w){var x,E,A=this.strm,O=this.options.chunkSize;if(this.ended)return!1;E=w===~~w?w:w===!0?4:0,typeof u=="string"?A.input=e.string2buf(u):p.call(u)==="[object ArrayBuffer]"?A.input=new Uint8Array(u):A.input=u,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(O),A.next_out=0,A.avail_out=O),(x=n.deflate(A,E))!==1&&x!==y)return this.onEnd(x),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(e.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&x!==1);return E===4?(x=n.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===y):E!==2||(this.onEnd(y),!(A.avail_out=0))},c.prototype.onData=function(u){this.chunks.push(u)},c.prototype.onEnd=function(u){u===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},l.Deflate=c,l.deflate=g,l.deflateRaw=function(u,w){return(w=w||{}).raw=!0,g(u,w)},l.gzip=function(u,w){return(w=w||{}).gzip=!0,g(u,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,b,l){var n=r("./zlib/inflate"),a=r("./utils/common"),e=r("./utils/strings"),s=r("./zlib/constants"),d=r("./zlib/messages"),p=r("./zlib/zstream"),y=r("./zlib/gzheader"),f=Object.prototype.toString;function o(c){if(!(this instanceof o))return new o(c);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},c||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||c&&c.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var u=n.inflateInit2(this.strm,g.windowBits);if(u!==s.Z_OK)throw new Error(d[u]);this.header=new y,n.inflateGetHeader(this.strm,this.header)}function m(c,g){var u=new o(g);if(u.push(c,!0),u.err)throw u.msg||d[u.err];return u.result}o.prototype.push=function(c,g){var u,w,x,E,A,O,R=this.strm,L=this.options.chunkSize,$=this.options.dictionary,M=!1;if(this.ended)return!1;w=g===~~g?g:g===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof c=="string"?R.input=e.binstring2buf(c):f.call(c)==="[object ArrayBuffer]"?R.input=new Uint8Array(c):R.input=c,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(L),R.next_out=0,R.avail_out=L),(u=n.inflate(R,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&$&&(O=typeof $=="string"?e.string2buf($):f.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,u=n.inflateSetDictionary(this.strm,O)),u===s.Z_BUF_ERROR&&M===!0&&(u=s.Z_OK,M=!1),u!==s.Z_STREAM_END&&u!==s.Z_OK)return this.onEnd(u),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&u!==s.Z_STREAM_END&&(R.avail_in!==0||w!==s.Z_FINISH&&w!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=e.utf8border(R.output,R.next_out),E=R.next_out-x,A=e.buf2string(R.output,x),R.next_out=E,R.avail_out=L-E,E&&a.arraySet(R.output,R.output,x,E,0),this.onData(A)):this.onData(a.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(M=!0)}while((0<R.avail_in||R.avail_out===0)&&u!==s.Z_STREAM_END);return u===s.Z_STREAM_END&&(w=s.Z_FINISH),w===s.Z_FINISH?(u=n.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===s.Z_OK):w!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(R.avail_out=0))},o.prototype.onData=function(c){this.chunks.push(c)},o.prototype.onEnd=function(c){c===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},l.Inflate=o,l.inflate=m,l.inflateRaw=function(c,g){return(g=g||{}).raw=!0,m(c,g)},l.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,b,l){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(s){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var p=d.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var y in p)p.hasOwnProperty(y)&&(s[y]=p[y])}}return s},l.shrinkBuf=function(s,d){return s.length===d?s:s.subarray?s.subarray(0,d):(s.length=d,s)};var a={arraySet:function(s,d,p,y,f){if(d.subarray&&s.subarray)s.set(d.subarray(p,p+y),f);else for(var o=0;o<y;o++)s[f+o]=d[p+o]},flattenChunks:function(s){var d,p,y,f,o,m;for(d=y=0,p=s.length;d<p;d++)y+=s[d].length;for(m=new Uint8Array(y),d=f=0,p=s.length;d<p;d++)o=s[d],m.set(o,f),f+=o.length;return m}},e={arraySet:function(s,d,p,y,f){for(var o=0;o<y;o++)s[f+o]=d[p+o]},flattenChunks:function(s){return[].concat.apply([],s)}};l.setTyped=function(s){s?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,a)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,e))},l.setTyped(n)},{}],42:[function(r,b,l){var n=r("./common"),a=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var s=new n.Buf8(256),d=0;d<256;d++)s[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function p(y,f){if(f<65537&&(y.subarray&&e||!y.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(y,f));for(var o="",m=0;m<f;m++)o+=String.fromCharCode(y[m]);return o}s[254]=s[254]=1,l.string2buf=function(y){var f,o,m,c,g,u=y.length,w=0;for(c=0;c<u;c++)(64512&(o=y.charCodeAt(c)))==55296&&c+1<u&&(64512&(m=y.charCodeAt(c+1)))==56320&&(o=65536+(o-55296<<10)+(m-56320),c++),w+=o<128?1:o<2048?2:o<65536?3:4;for(f=new n.Buf8(w),c=g=0;g<w;c++)(64512&(o=y.charCodeAt(c)))==55296&&c+1<u&&(64512&(m=y.charCodeAt(c+1)))==56320&&(o=65536+(o-55296<<10)+(m-56320),c++),o<128?f[g++]=o:(o<2048?f[g++]=192|o>>>6:(o<65536?f[g++]=224|o>>>12:(f[g++]=240|o>>>18,f[g++]=128|o>>>12&63),f[g++]=128|o>>>6&63),f[g++]=128|63&o);return f},l.buf2binstring=function(y){return p(y,y.length)},l.binstring2buf=function(y){for(var f=new n.Buf8(y.length),o=0,m=f.length;o<m;o++)f[o]=y.charCodeAt(o);return f},l.buf2string=function(y,f){var o,m,c,g,u=f||y.length,w=new Array(2*u);for(o=m=0;o<u;)if((c=y[o++])<128)w[m++]=c;else if(4<(g=s[c]))w[m++]=65533,o+=g-1;else{for(c&=g===2?31:g===3?15:7;1<g&&o<u;)c=c<<6|63&y[o++],g--;1<g?w[m++]=65533:c<65536?w[m++]=c:(c-=65536,w[m++]=55296|c>>10&1023,w[m++]=56320|1023&c)}return p(w,m)},l.utf8border=function(y,f){var o;for((f=f||y.length)>y.length&&(f=y.length),o=f-1;0<=o&&(192&y[o])==128;)o--;return o<0||o===0?f:o+s[y[o]]>f?o:f}},{"./common":41}],43:[function(r,b,l){b.exports=function(n,a,e,s){for(var d=65535&n|0,p=n>>>16&65535|0,y=0;e!==0;){for(e-=y=2e3<e?2e3:e;p=p+(d=d+a[s++]|0)|0,--y;);d%=65521,p%=65521}return d|p<<16|0}},{}],44:[function(r,b,l){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,b,l){var n=function(){for(var a,e=[],s=0;s<256;s++){a=s;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;e[s]=a}return e}();b.exports=function(a,e,s,d){var p=n,y=d+s;a^=-1;for(var f=d;f<y;f++)a=a>>>8^p[255&(a^e[f])];return-1^a}},{}],46:[function(r,b,l){var n,a=r("../utils/common"),e=r("./trees"),s=r("./adler32"),d=r("./crc32"),p=r("./messages"),y=0,f=4,o=0,m=-2,c=-1,g=4,u=2,w=8,x=9,E=286,A=30,O=19,R=2*E+1,L=15,$=3,M=258,X=M+$+1,S=42,B=113,i=1,D=2,tt=3,U=4;function et(t,F){return t.msg=p[F],F}function W(t){return(t<<1)-(4<t?9:0)}function Q(t){for(var F=t.length;0<=--F;)t[F]=0}function j(t){var F=t.state,T=F.pending;T>t.avail_out&&(T=t.avail_out),T!==0&&(a.arraySet(t.output,F.pending_buf,F.pending_out,T,t.next_out),t.next_out+=T,F.pending_out+=T,t.total_out+=T,t.avail_out-=T,F.pending-=T,F.pending===0&&(F.pending_out=0))}function I(t,F){e._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,F),t.block_start=t.strstart,j(t.strm)}function q(t,F){t.pending_buf[t.pending++]=F}function K(t,F){t.pending_buf[t.pending++]=F>>>8&255,t.pending_buf[t.pending++]=255&F}function G(t,F){var T,k,_=t.max_chain_length,C=t.strstart,N=t.prev_length,P=t.nice_match,z=t.strstart>t.w_size-X?t.strstart-(t.w_size-X):0,Z=t.window,J=t.w_mask,H=t.prev,Y=t.strstart+M,st=Z[C+N-1],nt=Z[C+N];t.prev_length>=t.good_match&&(_>>=2),P>t.lookahead&&(P=t.lookahead);do if(Z[(T=F)+N]===nt&&Z[T+N-1]===st&&Z[T]===Z[C]&&Z[++T]===Z[C+1]){C+=2,T++;do;while(Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&Z[++C]===Z[++T]&&C<Y);if(k=M-(Y-C),C=Y-M,N<k){if(t.match_start=F,P<=(N=k))break;st=Z[C+N-1],nt=Z[C+N]}}while((F=H[F&J])>z&&--_!=0);return N<=t.lookahead?N:t.lookahead}function ct(t){var F,T,k,_,C,N,P,z,Z,J,H=t.w_size;do{if(_=t.window_size-t.lookahead-t.strstart,t.strstart>=H+(H-X)){for(a.arraySet(t.window,t.window,H,H,0),t.match_start-=H,t.strstart-=H,t.block_start-=H,F=T=t.hash_size;k=t.head[--F],t.head[F]=H<=k?k-H:0,--T;);for(F=T=H;k=t.prev[--F],t.prev[F]=H<=k?k-H:0,--T;);_+=H}if(t.strm.avail_in===0)break;if(N=t.strm,P=t.window,z=t.strstart+t.lookahead,Z=_,J=void 0,J=N.avail_in,Z<J&&(J=Z),T=J===0?0:(N.avail_in-=J,a.arraySet(P,N.input,N.next_in,J,z),N.state.wrap===1?N.adler=s(N.adler,P,J,z):N.state.wrap===2&&(N.adler=d(N.adler,P,J,z)),N.next_in+=J,N.total_in+=J,J),t.lookahead+=T,t.lookahead+t.insert>=$)for(C=t.strstart-t.insert,t.ins_h=t.window[C],t.ins_h=(t.ins_h<<t.hash_shift^t.window[C+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[C+$-1])&t.hash_mask,t.prev[C&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=C,C++,t.insert--,!(t.lookahead+t.insert<$)););}while(t.lookahead<X&&t.strm.avail_in!==0)}function pt(t,F){for(var T,k;;){if(t.lookahead<X){if(ct(t),t.lookahead<X&&F===y)return i;if(t.lookahead===0)break}if(T=0,t.lookahead>=$&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),T!==0&&t.strstart-T<=t.w_size-X&&(t.match_length=G(t,T)),t.match_length>=$)if(k=e._tr_tally(t,t.strstart-t.match_start,t.match_length-$),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=$){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else k=e._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(k&&(I(t,!1),t.strm.avail_out===0))return i}return t.insert=t.strstart<$-1?t.strstart:$-1,F===f?(I(t,!0),t.strm.avail_out===0?tt:U):t.last_lit&&(I(t,!1),t.strm.avail_out===0)?i:D}function rt(t,F){for(var T,k,_;;){if(t.lookahead<X){if(ct(t),t.lookahead<X&&F===y)return i;if(t.lookahead===0)break}if(T=0,t.lookahead>=$&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=$-1,T!==0&&t.prev_length<t.max_lazy_match&&t.strstart-T<=t.w_size-X&&(t.match_length=G(t,T),t.match_length<=5&&(t.strategy===1||t.match_length===$&&4096<t.strstart-t.match_start)&&(t.match_length=$-1)),t.prev_length>=$&&t.match_length<=t.prev_length){for(_=t.strstart+t.lookahead-$,k=e._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-$),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=_&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+$-1])&t.hash_mask,T=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=$-1,t.strstart++,k&&(I(t,!1),t.strm.avail_out===0))return i}else if(t.match_available){if((k=e._tr_tally(t,0,t.window[t.strstart-1]))&&I(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return i}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(k=e._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<$-1?t.strstart:$-1,F===f?(I(t,!0),t.strm.avail_out===0?tt:U):t.last_lit&&(I(t,!1),t.strm.avail_out===0)?i:D}function it(t,F,T,k,_){this.good_length=t,this.max_lazy=F,this.nice_length=T,this.max_chain=k,this.func=_}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*A+1)),this.bl_tree=new a.Buf16(2*(2*O+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(L+1),this.heap=new a.Buf16(2*E+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ut(t){var F;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=u,(F=t.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?S:B,t.adler=F.wrap===2?0:1,F.last_flush=y,e._tr_init(F),o):et(t,m)}function wt(t){var F=ut(t);return F===o&&function(T){T.window_size=2*T.w_size,Q(T.head),T.max_lazy_match=n[T.level].max_lazy,T.good_match=n[T.level].good_length,T.nice_match=n[T.level].nice_length,T.max_chain_length=n[T.level].max_chain,T.strstart=0,T.block_start=0,T.lookahead=0,T.insert=0,T.match_length=T.prev_length=$-1,T.match_available=0,T.ins_h=0}(t.state),F}function bt(t,F,T,k,_,C){if(!t)return m;var N=1;if(F===c&&(F=6),k<0?(N=0,k=-k):15<k&&(N=2,k-=16),_<1||x<_||T!==w||k<8||15<k||F<0||9<F||C<0||g<C)return et(t,m);k===8&&(k=9);var P=new ft;return(t.state=P).strm=t,P.wrap=N,P.gzhead=null,P.w_bits=k,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=_+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+$-1)/$),P.window=new a.Buf8(2*P.w_size),P.head=new a.Buf16(P.hash_size),P.prev=new a.Buf16(P.w_size),P.lit_bufsize=1<<_+6,P.pending_buf_size=4*P.lit_bufsize,P.pending_buf=new a.Buf8(P.pending_buf_size),P.d_buf=1*P.lit_bufsize,P.l_buf=3*P.lit_bufsize,P.level=F,P.strategy=C,P.method=T,wt(t)}n=[new it(0,0,0,0,function(t,F){var T=65535;for(T>t.pending_buf_size-5&&(T=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ct(t),t.lookahead===0&&F===y)return i;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var k=t.block_start+T;if((t.strstart===0||t.strstart>=k)&&(t.lookahead=t.strstart-k,t.strstart=k,I(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-X&&(I(t,!1),t.strm.avail_out===0))return i}return t.insert=0,F===f?(I(t,!0),t.strm.avail_out===0?tt:U):(t.strstart>t.block_start&&(I(t,!1),t.strm.avail_out),i)}),new it(4,4,8,4,pt),new it(4,5,16,8,pt),new it(4,6,32,32,pt),new it(4,4,16,16,rt),new it(8,16,32,32,rt),new it(8,16,128,128,rt),new it(8,32,128,256,rt),new it(32,128,258,1024,rt),new it(32,258,258,4096,rt)],l.deflateInit=function(t,F){return bt(t,F,w,15,8,0)},l.deflateInit2=bt,l.deflateReset=wt,l.deflateResetKeep=ut,l.deflateSetHeader=function(t,F){return t&&t.state?t.state.wrap!==2?m:(t.state.gzhead=F,o):m},l.deflate=function(t,F){var T,k,_,C;if(!t||!t.state||5<F||F<0)return t?et(t,m):m;if(k=t.state,!t.output||!t.input&&t.avail_in!==0||k.status===666&&F!==f)return et(t,t.avail_out===0?-5:m);if(k.strm=t,T=k.last_flush,k.last_flush=F,k.status===S)if(k.wrap===2)t.adler=0,q(k,31),q(k,139),q(k,8),k.gzhead?(q(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),q(k,255&k.gzhead.time),q(k,k.gzhead.time>>8&255),q(k,k.gzhead.time>>16&255),q(k,k.gzhead.time>>24&255),q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),q(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(q(k,255&k.gzhead.extra.length),q(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(t.adler=d(t.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(q(k,0),q(k,0),q(k,0),q(k,0),q(k,0),q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),q(k,3),k.status=B);else{var N=w+(k.w_bits-8<<4)<<8;N|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(N|=32),N+=31-N%31,k.status=B,K(k,N),k.strstart!==0&&(K(k,t.adler>>>16),K(k,65535&t.adler)),t.adler=1}if(k.status===69)if(k.gzhead.extra){for(_=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>_&&(t.adler=d(t.adler,k.pending_buf,k.pending-_,_)),j(t),_=k.pending,k.pending!==k.pending_buf_size));)q(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>_&&(t.adler=d(t.adler,k.pending_buf,k.pending-_,_)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(t.adler=d(t.adler,k.pending_buf,k.pending-_,_)),j(t),_=k.pending,k.pending===k.pending_buf_size)){C=1;break}C=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,q(k,C)}while(C!==0);k.gzhead.hcrc&&k.pending>_&&(t.adler=d(t.adler,k.pending_buf,k.pending-_,_)),C===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){_=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>_&&(t.adler=d(t.adler,k.pending_buf,k.pending-_,_)),j(t),_=k.pending,k.pending===k.pending_buf_size)){C=1;break}C=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,q(k,C)}while(C!==0);k.gzhead.hcrc&&k.pending>_&&(t.adler=d(t.adler,k.pending_buf,k.pending-_,_)),C===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&j(t),k.pending+2<=k.pending_buf_size&&(q(k,255&t.adler),q(k,t.adler>>8&255),t.adler=0,k.status=B)):k.status=B),k.pending!==0){if(j(t),t.avail_out===0)return k.last_flush=-1,o}else if(t.avail_in===0&&W(F)<=W(T)&&F!==f)return et(t,-5);if(k.status===666&&t.avail_in!==0)return et(t,-5);if(t.avail_in!==0||k.lookahead!==0||F!==y&&k.status!==666){var P=k.strategy===2?function(z,Z){for(var J;;){if(z.lookahead===0&&(ct(z),z.lookahead===0)){if(Z===y)return i;break}if(z.match_length=0,J=e._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,J&&(I(z,!1),z.strm.avail_out===0))return i}return z.insert=0,Z===f?(I(z,!0),z.strm.avail_out===0?tt:U):z.last_lit&&(I(z,!1),z.strm.avail_out===0)?i:D}(k,F):k.strategy===3?function(z,Z){for(var J,H,Y,st,nt=z.window;;){if(z.lookahead<=M){if(ct(z),z.lookahead<=M&&Z===y)return i;if(z.lookahead===0)break}if(z.match_length=0,z.lookahead>=$&&0<z.strstart&&(H=nt[Y=z.strstart-1])===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]){st=z.strstart+M;do;while(H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&H===nt[++Y]&&Y<st);z.match_length=M-(st-Y),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=$?(J=e._tr_tally(z,1,z.match_length-$),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(J=e._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),J&&(I(z,!1),z.strm.avail_out===0))return i}return z.insert=0,Z===f?(I(z,!0),z.strm.avail_out===0?tt:U):z.last_lit&&(I(z,!1),z.strm.avail_out===0)?i:D}(k,F):n[k.level].func(k,F);if(P!==tt&&P!==U||(k.status=666),P===i||P===tt)return t.avail_out===0&&(k.last_flush=-1),o;if(P===D&&(F===1?e._tr_align(k):F!==5&&(e._tr_stored_block(k,0,0,!1),F===3&&(Q(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),j(t),t.avail_out===0))return k.last_flush=-1,o}return F!==f?o:k.wrap<=0?1:(k.wrap===2?(q(k,255&t.adler),q(k,t.adler>>8&255),q(k,t.adler>>16&255),q(k,t.adler>>24&255),q(k,255&t.total_in),q(k,t.total_in>>8&255),q(k,t.total_in>>16&255),q(k,t.total_in>>24&255)):(K(k,t.adler>>>16),K(k,65535&t.adler)),j(t),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?o:1)},l.deflateEnd=function(t){var F;return t&&t.state?(F=t.state.status)!==S&&F!==69&&F!==73&&F!==91&&F!==103&&F!==B&&F!==666?et(t,m):(t.state=null,F===B?et(t,-3):o):m},l.deflateSetDictionary=function(t,F){var T,k,_,C,N,P,z,Z,J=F.length;if(!t||!t.state||(C=(T=t.state).wrap)===2||C===1&&T.status!==S||T.lookahead)return m;for(C===1&&(t.adler=s(t.adler,F,J,0)),T.wrap=0,J>=T.w_size&&(C===0&&(Q(T.head),T.strstart=0,T.block_start=0,T.insert=0),Z=new a.Buf8(T.w_size),a.arraySet(Z,F,J-T.w_size,T.w_size,0),F=Z,J=T.w_size),N=t.avail_in,P=t.next_in,z=t.input,t.avail_in=J,t.next_in=0,t.input=F,ct(T);T.lookahead>=$;){for(k=T.strstart,_=T.lookahead-($-1);T.ins_h=(T.ins_h<<T.hash_shift^T.window[k+$-1])&T.hash_mask,T.prev[k&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=k,k++,--_;);T.strstart=k,T.lookahead=$-1,ct(T)}return T.strstart+=T.lookahead,T.block_start=T.strstart,T.insert=T.lookahead,T.lookahead=0,T.match_length=T.prev_length=$-1,T.match_available=0,t.next_in=P,t.input=z,t.avail_in=N,T.wrap=C,o},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,b,l){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,b,l){b.exports=function(n,a){var e,s,d,p,y,f,o,m,c,g,u,w,x,E,A,O,R,L,$,M,X,S,B,i,D;e=n.state,s=n.next_in,i=n.input,d=s+(n.avail_in-5),p=n.next_out,D=n.output,y=p-(a-n.avail_out),f=p+(n.avail_out-257),o=e.dmax,m=e.wsize,c=e.whave,g=e.wnext,u=e.window,w=e.hold,x=e.bits,E=e.lencode,A=e.distcode,O=(1<<e.lenbits)-1,R=(1<<e.distbits)-1;t:do{x<15&&(w+=i[s++]<<x,x+=8,w+=i[s++]<<x,x+=8),L=E[w&O];e:for(;;){if(w>>>=$=L>>>24,x-=$,($=L>>>16&255)===0)D[p++]=65535&L;else{if(!(16&$)){if((64&$)==0){L=E[(65535&L)+(w&(1<<$)-1)];continue e}if(32&$){e.mode=12;break t}n.msg="invalid literal/length code",e.mode=30;break t}M=65535&L,($&=15)&&(x<$&&(w+=i[s++]<<x,x+=8),M+=w&(1<<$)-1,w>>>=$,x-=$),x<15&&(w+=i[s++]<<x,x+=8,w+=i[s++]<<x,x+=8),L=A[w&R];r:for(;;){if(w>>>=$=L>>>24,x-=$,!(16&($=L>>>16&255))){if((64&$)==0){L=A[(65535&L)+(w&(1<<$)-1)];continue r}n.msg="invalid distance code",e.mode=30;break t}if(X=65535&L,x<($&=15)&&(w+=i[s++]<<x,(x+=8)<$&&(w+=i[s++]<<x,x+=8)),o<(X+=w&(1<<$)-1)){n.msg="invalid distance too far back",e.mode=30;break t}if(w>>>=$,x-=$,($=p-y)<X){if(c<($=X-$)&&e.sane){n.msg="invalid distance too far back",e.mode=30;break t}if(B=u,(S=0)===g){if(S+=m-$,$<M){for(M-=$;D[p++]=u[S++],--$;);S=p-X,B=D}}else if(g<$){if(S+=m+g-$,($-=g)<M){for(M-=$;D[p++]=u[S++],--$;);if(S=0,g<M){for(M-=$=g;D[p++]=u[S++],--$;);S=p-X,B=D}}}else if(S+=g-$,$<M){for(M-=$;D[p++]=u[S++],--$;);S=p-X,B=D}for(;2<M;)D[p++]=B[S++],D[p++]=B[S++],D[p++]=B[S++],M-=3;M&&(D[p++]=B[S++],1<M&&(D[p++]=B[S++]))}else{for(S=p-X;D[p++]=D[S++],D[p++]=D[S++],D[p++]=D[S++],2<(M-=3););M&&(D[p++]=D[S++],1<M&&(D[p++]=D[S++]))}break}}break}}while(s<d&&p<f);s-=M=x>>3,w&=(1<<(x-=M<<3))-1,n.next_in=s,n.next_out=p,n.avail_in=s<d?d-s+5:5-(s-d),n.avail_out=p<f?f-p+257:257-(p-f),e.hold=w,e.bits=x}},{}],49:[function(r,b,l){var n=r("../utils/common"),a=r("./adler32"),e=r("./crc32"),s=r("./inffast"),d=r("./inftrees"),p=1,y=2,f=0,o=-2,m=1,c=852,g=592;function u(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(S){var B;return S&&S.state?(B=S.state,S.total_in=S.total_out=B.total=0,S.msg="",B.wrap&&(S.adler=1&B.wrap),B.mode=m,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new n.Buf32(c),B.distcode=B.distdyn=new n.Buf32(g),B.sane=1,B.back=-1,f):o}function E(S){var B;return S&&S.state?((B=S.state).wsize=0,B.whave=0,B.wnext=0,x(S)):o}function A(S,B){var i,D;return S&&S.state?(D=S.state,B<0?(i=0,B=-B):(i=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?o:(D.window!==null&&D.wbits!==B&&(D.window=null),D.wrap=i,D.wbits=B,E(S))):o}function O(S,B){var i,D;return S?(D=new w,(S.state=D).window=null,(i=A(S,B))!==f&&(S.state=null),i):o}var R,L,$=!0;function M(S){if($){var B;for(R=new n.Buf32(512),L=new n.Buf32(32),B=0;B<144;)S.lens[B++]=8;for(;B<256;)S.lens[B++]=9;for(;B<280;)S.lens[B++]=7;for(;B<288;)S.lens[B++]=8;for(d(p,S.lens,0,288,R,0,S.work,{bits:9}),B=0;B<32;)S.lens[B++]=5;d(y,S.lens,0,32,L,0,S.work,{bits:5}),$=!1}S.lencode=R,S.lenbits=9,S.distcode=L,S.distbits=5}function X(S,B,i,D){var tt,U=S.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new n.Buf8(U.wsize)),D>=U.wsize?(n.arraySet(U.window,B,i-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(D<(tt=U.wsize-U.wnext)&&(tt=D),n.arraySet(U.window,B,i-D,tt,U.wnext),(D-=tt)?(n.arraySet(U.window,B,i-D,D,0),U.wnext=D,U.whave=U.wsize):(U.wnext+=tt,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=tt))),0}l.inflateReset=E,l.inflateReset2=A,l.inflateResetKeep=x,l.inflateInit=function(S){return O(S,15)},l.inflateInit2=O,l.inflate=function(S,B){var i,D,tt,U,et,W,Q,j,I,q,K,G,ct,pt,rt,it,ft,ut,wt,bt,t,F,T,k,_=0,C=new n.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return o;(i=S.state).mode===12&&(i.mode=13),et=S.next_out,tt=S.output,Q=S.avail_out,U=S.next_in,D=S.input,W=S.avail_in,j=i.hold,I=i.bits,q=W,K=Q,F=f;t:for(;;)switch(i.mode){case m:if(i.wrap===0){i.mode=13;break}for(;I<16;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(2&i.wrap&&j===35615){C[i.check=0]=255&j,C[1]=j>>>8&255,i.check=e(i.check,C,2,0),I=j=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&j)<<8)+(j>>8))%31){S.msg="incorrect header check",i.mode=30;break}if((15&j)!=8){S.msg="unknown compression method",i.mode=30;break}if(I-=4,t=8+(15&(j>>>=4)),i.wbits===0)i.wbits=t;else if(t>i.wbits){S.msg="invalid window size",i.mode=30;break}i.dmax=1<<t,S.adler=i.check=1,i.mode=512&j?10:12,I=j=0;break;case 2:for(;I<16;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(i.flags=j,(255&i.flags)!=8){S.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){S.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=j>>8&1),512&i.flags&&(C[0]=255&j,C[1]=j>>>8&255,i.check=e(i.check,C,2,0)),I=j=0,i.mode=3;case 3:for(;I<32;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}i.head&&(i.head.time=j),512&i.flags&&(C[0]=255&j,C[1]=j>>>8&255,C[2]=j>>>16&255,C[3]=j>>>24&255,i.check=e(i.check,C,4,0)),I=j=0,i.mode=4;case 4:for(;I<16;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}i.head&&(i.head.xflags=255&j,i.head.os=j>>8),512&i.flags&&(C[0]=255&j,C[1]=j>>>8&255,i.check=e(i.check,C,2,0)),I=j=0,i.mode=5;case 5:if(1024&i.flags){for(;I<16;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}i.length=j,i.head&&(i.head.extra_len=j),512&i.flags&&(C[0]=255&j,C[1]=j>>>8&255,i.check=e(i.check,C,2,0)),I=j=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(W<(G=i.length)&&(G=W),G&&(i.head&&(t=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,D,U,G,t)),512&i.flags&&(i.check=e(i.check,D,G,U)),W-=G,U+=G,i.length-=G),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(W===0)break t;for(G=0;t=D[U+G++],i.head&&t&&i.length<65536&&(i.head.name+=String.fromCharCode(t)),t&&G<W;);if(512&i.flags&&(i.check=e(i.check,D,G,U)),W-=G,U+=G,t)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(W===0)break t;for(G=0;t=D[U+G++],i.head&&t&&i.length<65536&&(i.head.comment+=String.fromCharCode(t)),t&&G<W;);if(512&i.flags&&(i.check=e(i.check,D,G,U)),W-=G,U+=G,t)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;I<16;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(j!==(65535&i.check)){S.msg="header crc mismatch",i.mode=30;break}I=j=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),S.adler=i.check=0,i.mode=12;break;case 10:for(;I<32;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}S.adler=i.check=u(j),I=j=0,i.mode=11;case 11:if(i.havedict===0)return S.next_out=et,S.avail_out=Q,S.next_in=U,S.avail_in=W,i.hold=j,i.bits=I,2;S.adler=i.check=1,i.mode=12;case 12:if(B===5||B===6)break t;case 13:if(i.last){j>>>=7&I,I-=7&I,i.mode=27;break}for(;I<3;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}switch(i.last=1&j,I-=1,3&(j>>>=1)){case 0:i.mode=14;break;case 1:if(M(i),i.mode=20,B!==6)break;j>>>=2,I-=2;break t;case 2:i.mode=17;break;case 3:S.msg="invalid block type",i.mode=30}j>>>=2,I-=2;break;case 14:for(j>>>=7&I,I-=7&I;I<32;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if((65535&j)!=(j>>>16^65535)){S.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&j,I=j=0,i.mode=15,B===6)break t;case 15:i.mode=16;case 16:if(G=i.length){if(W<G&&(G=W),Q<G&&(G=Q),G===0)break t;n.arraySet(tt,D,U,G,et),W-=G,U+=G,Q-=G,et+=G,i.length-=G;break}i.mode=12;break;case 17:for(;I<14;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(i.nlen=257+(31&j),j>>>=5,I-=5,i.ndist=1+(31&j),j>>>=5,I-=5,i.ncode=4+(15&j),j>>>=4,I-=4,286<i.nlen||30<i.ndist){S.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;I<3;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}i.lens[N[i.have++]]=7&j,j>>>=3,I-=3}for(;i.have<19;)i.lens[N[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,T={bits:i.lenbits},F=d(0,i.lens,0,19,i.lencode,0,i.work,T),i.lenbits=T.bits,F){S.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;it=(_=i.lencode[j&(1<<i.lenbits)-1])>>>16&255,ft=65535&_,!((rt=_>>>24)<=I);){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(ft<16)j>>>=rt,I-=rt,i.lens[i.have++]=ft;else{if(ft===16){for(k=rt+2;I<k;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(j>>>=rt,I-=rt,i.have===0){S.msg="invalid bit length repeat",i.mode=30;break}t=i.lens[i.have-1],G=3+(3&j),j>>>=2,I-=2}else if(ft===17){for(k=rt+3;I<k;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}I-=rt,t=0,G=3+(7&(j>>>=rt)),j>>>=3,I-=3}else{for(k=rt+7;I<k;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}I-=rt,t=0,G=11+(127&(j>>>=rt)),j>>>=7,I-=7}if(i.have+G>i.nlen+i.ndist){S.msg="invalid bit length repeat",i.mode=30;break}for(;G--;)i.lens[i.have++]=t}}if(i.mode===30)break;if(i.lens[256]===0){S.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,T={bits:i.lenbits},F=d(p,i.lens,0,i.nlen,i.lencode,0,i.work,T),i.lenbits=T.bits,F){S.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,T={bits:i.distbits},F=d(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,T),i.distbits=T.bits,F){S.msg="invalid distances set",i.mode=30;break}if(i.mode=20,B===6)break t;case 20:i.mode=21;case 21:if(6<=W&&258<=Q){S.next_out=et,S.avail_out=Q,S.next_in=U,S.avail_in=W,i.hold=j,i.bits=I,s(S,K),et=S.next_out,tt=S.output,Q=S.avail_out,U=S.next_in,D=S.input,W=S.avail_in,j=i.hold,I=i.bits,i.mode===12&&(i.back=-1);break}for(i.back=0;it=(_=i.lencode[j&(1<<i.lenbits)-1])>>>16&255,ft=65535&_,!((rt=_>>>24)<=I);){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(it&&(240&it)==0){for(ut=rt,wt=it,bt=ft;it=(_=i.lencode[bt+((j&(1<<ut+wt)-1)>>ut)])>>>16&255,ft=65535&_,!(ut+(rt=_>>>24)<=I);){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}j>>>=ut,I-=ut,i.back+=ut}if(j>>>=rt,I-=rt,i.back+=rt,i.length=ft,it===0){i.mode=26;break}if(32&it){i.back=-1,i.mode=12;break}if(64&it){S.msg="invalid literal/length code",i.mode=30;break}i.extra=15&it,i.mode=22;case 22:if(i.extra){for(k=i.extra;I<k;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}i.length+=j&(1<<i.extra)-1,j>>>=i.extra,I-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;it=(_=i.distcode[j&(1<<i.distbits)-1])>>>16&255,ft=65535&_,!((rt=_>>>24)<=I);){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if((240&it)==0){for(ut=rt,wt=it,bt=ft;it=(_=i.distcode[bt+((j&(1<<ut+wt)-1)>>ut)])>>>16&255,ft=65535&_,!(ut+(rt=_>>>24)<=I);){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}j>>>=ut,I-=ut,i.back+=ut}if(j>>>=rt,I-=rt,i.back+=rt,64&it){S.msg="invalid distance code",i.mode=30;break}i.offset=ft,i.extra=15&it,i.mode=24;case 24:if(i.extra){for(k=i.extra;I<k;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}i.offset+=j&(1<<i.extra)-1,j>>>=i.extra,I-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){S.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(Q===0)break t;if(G=K-Q,i.offset>G){if((G=i.offset-G)>i.whave&&i.sane){S.msg="invalid distance too far back",i.mode=30;break}ct=G>i.wnext?(G-=i.wnext,i.wsize-G):i.wnext-G,G>i.length&&(G=i.length),pt=i.window}else pt=tt,ct=et-i.offset,G=i.length;for(Q<G&&(G=Q),Q-=G,i.length-=G;tt[et++]=pt[ct++],--G;);i.length===0&&(i.mode=21);break;case 26:if(Q===0)break t;tt[et++]=i.length,Q--,i.mode=21;break;case 27:if(i.wrap){for(;I<32;){if(W===0)break t;W--,j|=D[U++]<<I,I+=8}if(K-=Q,S.total_out+=K,i.total+=K,K&&(S.adler=i.check=i.flags?e(i.check,tt,K,et-K):a(i.check,tt,K,et-K)),K=Q,(i.flags?j:u(j))!==i.check){S.msg="incorrect data check",i.mode=30;break}I=j=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;I<32;){if(W===0)break t;W--,j+=D[U++]<<I,I+=8}if(j!==(4294967295&i.total)){S.msg="incorrect length check",i.mode=30;break}I=j=0}i.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return o}return S.next_out=et,S.avail_out=Q,S.next_in=U,S.avail_in=W,i.hold=j,i.bits=I,(i.wsize||K!==S.avail_out&&i.mode<30&&(i.mode<27||B!==4))&&X(S,S.output,S.next_out,K-S.avail_out)?(i.mode=31,-4):(q-=S.avail_in,K-=S.avail_out,S.total_in+=q,S.total_out+=K,i.total+=K,i.wrap&&K&&(S.adler=i.check=i.flags?e(i.check,tt,K,S.next_out-K):a(i.check,tt,K,S.next_out-K)),S.data_type=i.bits+(i.last?64:0)+(i.mode===12?128:0)+(i.mode===20||i.mode===15?256:0),(q==0&&K===0||B===4)&&F===f&&(F=-5),F)},l.inflateEnd=function(S){if(!S||!S.state)return o;var B=S.state;return B.window&&(B.window=null),S.state=null,f},l.inflateGetHeader=function(S,B){var i;return S&&S.state?(2&(i=S.state).wrap)==0?o:((i.head=B).done=!1,f):o},l.inflateSetDictionary=function(S,B){var i,D=B.length;return S&&S.state?(i=S.state).wrap!==0&&i.mode!==11?o:i.mode===11&&a(1,B,D,0)!==i.check?-3:X(S,B,D,D)?(i.mode=31,-4):(i.havedict=1,f):o},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,b,l){var n=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(p,y,f,o,m,c,g,u){var w,x,E,A,O,R,L,$,M,X=u.bits,S=0,B=0,i=0,D=0,tt=0,U=0,et=0,W=0,Q=0,j=0,I=null,q=0,K=new n.Buf16(16),G=new n.Buf16(16),ct=null,pt=0;for(S=0;S<=15;S++)K[S]=0;for(B=0;B<o;B++)K[y[f+B]]++;for(tt=X,D=15;1<=D&&K[D]===0;D--);if(D<tt&&(tt=D),D===0)return m[c++]=20971520,m[c++]=20971520,u.bits=1,0;for(i=1;i<D&&K[i]===0;i++);for(tt<i&&(tt=i),S=W=1;S<=15;S++)if(W<<=1,(W-=K[S])<0)return-1;if(0<W&&(p===0||D!==1))return-1;for(G[1]=0,S=1;S<15;S++)G[S+1]=G[S]+K[S];for(B=0;B<o;B++)y[f+B]!==0&&(g[G[y[f+B]]++]=B);if(R=p===0?(I=ct=g,19):p===1?(I=a,q-=257,ct=e,pt-=257,256):(I=s,ct=d,-1),S=i,O=c,et=B=j=0,E=-1,A=(Q=1<<(U=tt))-1,p===1&&852<Q||p===2&&592<Q)return 1;for(;;){for(L=S-et,M=g[B]<R?($=0,g[B]):g[B]>R?($=ct[pt+g[B]],I[q+g[B]]):($=96,0),w=1<<S-et,i=x=1<<U;m[O+(j>>et)+(x-=w)]=L<<24|$<<16|M|0,x!==0;);for(w=1<<S-1;j&w;)w>>=1;if(w!==0?(j&=w-1,j+=w):j=0,B++,--K[S]==0){if(S===D)break;S=y[f+g[B]]}if(tt<S&&(j&A)!==E){for(et===0&&(et=tt),O+=i,W=1<<(U=S-et);U+et<D&&!((W-=K[U+et])<=0);)U++,W<<=1;if(Q+=1<<U,p===1&&852<Q||p===2&&592<Q)return 1;m[E=j&A]=tt<<24|U<<16|O-c|0}}return j!==0&&(m[O+j]=S-et<<24|64<<16|0),u.bits=tt,0}},{"../utils/common":41}],51:[function(r,b,l){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,b,l){var n=r("../utils/common"),a=0,e=1;function s(_){for(var C=_.length;0<=--C;)_[C]=0}var d=0,p=29,y=256,f=y+1+p,o=30,m=19,c=2*f+1,g=15,u=16,w=7,x=256,E=16,A=17,O=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(f+2));s(X);var S=new Array(2*o);s(S);var B=new Array(512);s(B);var i=new Array(256);s(i);var D=new Array(p);s(D);var tt,U,et,W=new Array(o);function Q(_,C,N,P,z){this.static_tree=_,this.extra_bits=C,this.extra_base=N,this.elems=P,this.max_length=z,this.has_stree=_&&_.length}function j(_,C){this.dyn_tree=_,this.max_code=0,this.stat_desc=C}function I(_){return _<256?B[_]:B[256+(_>>>7)]}function q(_,C){_.pending_buf[_.pending++]=255&C,_.pending_buf[_.pending++]=C>>>8&255}function K(_,C,N){_.bi_valid>u-N?(_.bi_buf|=C<<_.bi_valid&65535,q(_,_.bi_buf),_.bi_buf=C>>u-_.bi_valid,_.bi_valid+=N-u):(_.bi_buf|=C<<_.bi_valid&65535,_.bi_valid+=N)}function G(_,C,N){K(_,N[2*C],N[2*C+1])}function ct(_,C){for(var N=0;N|=1&_,_>>>=1,N<<=1,0<--C;);return N>>>1}function pt(_,C,N){var P,z,Z=new Array(g+1),J=0;for(P=1;P<=g;P++)Z[P]=J=J+N[P-1]<<1;for(z=0;z<=C;z++){var H=_[2*z+1];H!==0&&(_[2*z]=ct(Z[H]++,H))}}function rt(_){var C;for(C=0;C<f;C++)_.dyn_ltree[2*C]=0;for(C=0;C<o;C++)_.dyn_dtree[2*C]=0;for(C=0;C<m;C++)_.bl_tree[2*C]=0;_.dyn_ltree[2*x]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function it(_){8<_.bi_valid?q(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function ft(_,C,N,P){var z=2*C,Z=2*N;return _[z]<_[Z]||_[z]===_[Z]&&P[C]<=P[N]}function ut(_,C,N){for(var P=_.heap[N],z=N<<1;z<=_.heap_len&&(z<_.heap_len&&ft(C,_.heap[z+1],_.heap[z],_.depth)&&z++,!ft(C,P,_.heap[z],_.depth));)_.heap[N]=_.heap[z],N=z,z<<=1;_.heap[N]=P}function wt(_,C,N){var P,z,Z,J,H=0;if(_.last_lit!==0)for(;P=_.pending_buf[_.d_buf+2*H]<<8|_.pending_buf[_.d_buf+2*H+1],z=_.pending_buf[_.l_buf+H],H++,P===0?G(_,z,C):(G(_,(Z=i[z])+y+1,C),(J=R[Z])!==0&&K(_,z-=D[Z],J),G(_,Z=I(--P),N),(J=L[Z])!==0&&K(_,P-=W[Z],J)),H<_.last_lit;);G(_,x,C)}function bt(_,C){var N,P,z,Z=C.dyn_tree,J=C.stat_desc.static_tree,H=C.stat_desc.has_stree,Y=C.stat_desc.elems,st=-1;for(_.heap_len=0,_.heap_max=c,N=0;N<Y;N++)Z[2*N]!==0?(_.heap[++_.heap_len]=st=N,_.depth[N]=0):Z[2*N+1]=0;for(;_.heap_len<2;)Z[2*(z=_.heap[++_.heap_len]=st<2?++st:0)]=1,_.depth[z]=0,_.opt_len--,H&&(_.static_len-=J[2*z+1]);for(C.max_code=st,N=_.heap_len>>1;1<=N;N--)ut(_,Z,N);for(z=Y;N=_.heap[1],_.heap[1]=_.heap[_.heap_len--],ut(_,Z,1),P=_.heap[1],_.heap[--_.heap_max]=N,_.heap[--_.heap_max]=P,Z[2*z]=Z[2*N]+Z[2*P],_.depth[z]=(_.depth[N]>=_.depth[P]?_.depth[N]:_.depth[P])+1,Z[2*N+1]=Z[2*P+1]=z,_.heap[1]=z++,ut(_,Z,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(nt,_t){var Rt,kt,Bt,ht,Lt,Vt,xt=_t.dyn_tree,fe=_t.max_code,ir=_t.stat_desc.static_tree,ar=_t.stat_desc.has_stree,sr=_t.stat_desc.extra_bits,pe=_t.stat_desc.extra_base,$t=_t.stat_desc.max_length,Nt=0;for(ht=0;ht<=g;ht++)nt.bl_count[ht]=0;for(xt[2*nt.heap[nt.heap_max]+1]=0,Rt=nt.heap_max+1;Rt<c;Rt++)$t<(ht=xt[2*xt[2*(kt=nt.heap[Rt])+1]+1]+1)&&(ht=$t,Nt++),xt[2*kt+1]=ht,fe<kt||(nt.bl_count[ht]++,Lt=0,pe<=kt&&(Lt=sr[kt-pe]),Vt=xt[2*kt],nt.opt_len+=Vt*(ht+Lt),ar&&(nt.static_len+=Vt*(ir[2*kt+1]+Lt)));if(Nt!==0){do{for(ht=$t-1;nt.bl_count[ht]===0;)ht--;nt.bl_count[ht]--,nt.bl_count[ht+1]+=2,nt.bl_count[$t]--,Nt-=2}while(0<Nt);for(ht=$t;ht!==0;ht--)for(kt=nt.bl_count[ht];kt!==0;)fe<(Bt=nt.heap[--Rt])||(xt[2*Bt+1]!==ht&&(nt.opt_len+=(ht-xt[2*Bt+1])*xt[2*Bt],xt[2*Bt+1]=ht),kt--)}}(_,C),pt(Z,st,_.bl_count)}function t(_,C,N){var P,z,Z=-1,J=C[1],H=0,Y=7,st=4;for(J===0&&(Y=138,st=3),C[2*(N+1)+1]=65535,P=0;P<=N;P++)z=J,J=C[2*(P+1)+1],++H<Y&&z===J||(H<st?_.bl_tree[2*z]+=H:z!==0?(z!==Z&&_.bl_tree[2*z]++,_.bl_tree[2*E]++):H<=10?_.bl_tree[2*A]++:_.bl_tree[2*O]++,Z=z,st=(H=0)===J?(Y=138,3):z===J?(Y=6,3):(Y=7,4))}function F(_,C,N){var P,z,Z=-1,J=C[1],H=0,Y=7,st=4;for(J===0&&(Y=138,st=3),P=0;P<=N;P++)if(z=J,J=C[2*(P+1)+1],!(++H<Y&&z===J)){if(H<st)for(;G(_,z,_.bl_tree),--H!=0;);else z!==0?(z!==Z&&(G(_,z,_.bl_tree),H--),G(_,E,_.bl_tree),K(_,H-3,2)):H<=10?(G(_,A,_.bl_tree),K(_,H-3,3)):(G(_,O,_.bl_tree),K(_,H-11,7));Z=z,st=(H=0)===J?(Y=138,3):z===J?(Y=6,3):(Y=7,4)}}s(W);var T=!1;function k(_,C,N,P){K(_,(d<<1)+(P?1:0),3),function(z,Z,J,H){it(z),H&&(q(z,J),q(z,~J)),n.arraySet(z.pending_buf,z.window,Z,J,z.pending),z.pending+=J}(_,C,N,!0)}l._tr_init=function(_){T||(function(){var C,N,P,z,Z,J=new Array(g+1);for(z=P=0;z<p-1;z++)for(D[z]=P,C=0;C<1<<R[z];C++)i[P++]=z;for(i[P-1]=z,z=Z=0;z<16;z++)for(W[z]=Z,C=0;C<1<<L[z];C++)B[Z++]=z;for(Z>>=7;z<o;z++)for(W[z]=Z<<7,C=0;C<1<<L[z]-7;C++)B[256+Z++]=z;for(N=0;N<=g;N++)J[N]=0;for(C=0;C<=143;)X[2*C+1]=8,C++,J[8]++;for(;C<=255;)X[2*C+1]=9,C++,J[9]++;for(;C<=279;)X[2*C+1]=7,C++,J[7]++;for(;C<=287;)X[2*C+1]=8,C++,J[8]++;for(pt(X,f+1,J),C=0;C<o;C++)S[2*C+1]=5,S[2*C]=ct(C,5);tt=new Q(X,R,y+1,f,g),U=new Q(S,L,0,o,g),et=new Q(new Array(0),$,0,m,w)}(),T=!0),_.l_desc=new j(_.dyn_ltree,tt),_.d_desc=new j(_.dyn_dtree,U),_.bl_desc=new j(_.bl_tree,et),_.bi_buf=0,_.bi_valid=0,rt(_)},l._tr_stored_block=k,l._tr_flush_block=function(_,C,N,P){var z,Z,J=0;0<_.level?(_.strm.data_type===2&&(_.strm.data_type=function(H){var Y,st=4093624447;for(Y=0;Y<=31;Y++,st>>>=1)if(1&st&&H.dyn_ltree[2*Y]!==0)return a;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return e;for(Y=32;Y<y;Y++)if(H.dyn_ltree[2*Y]!==0)return e;return a}(_)),bt(_,_.l_desc),bt(_,_.d_desc),J=function(H){var Y;for(t(H,H.dyn_ltree,H.l_desc.max_code),t(H,H.dyn_dtree,H.d_desc.max_code),bt(H,H.bl_desc),Y=m-1;3<=Y&&H.bl_tree[2*M[Y]+1]===0;Y--);return H.opt_len+=3*(Y+1)+5+5+4,Y}(_),z=_.opt_len+3+7>>>3,(Z=_.static_len+3+7>>>3)<=z&&(z=Z)):z=Z=N+5,N+4<=z&&C!==-1?k(_,C,N,P):_.strategy===4||Z===z?(K(_,2+(P?1:0),3),wt(_,X,S)):(K(_,4+(P?1:0),3),function(H,Y,st,nt){var _t;for(K(H,Y-257,5),K(H,st-1,5),K(H,nt-4,4),_t=0;_t<nt;_t++)K(H,H.bl_tree[2*M[_t]+1],3);F(H,H.dyn_ltree,Y-1),F(H,H.dyn_dtree,st-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,J+1),wt(_,_.dyn_ltree,_.dyn_dtree)),rt(_),P&&it(_)},l._tr_tally=function(_,C,N){return _.pending_buf[_.d_buf+2*_.last_lit]=C>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&C,_.pending_buf[_.l_buf+_.last_lit]=255&N,_.last_lit++,C===0?_.dyn_ltree[2*N]++:(_.matches++,C--,_.dyn_ltree[2*(i[N]+y+1)]++,_.dyn_dtree[2*I(C)]++),_.last_lit===_.lit_bufsize-1},l._tr_align=function(_){K(_,2,3),G(_,x,X),function(C){C.bi_valid===16?(q(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(_)}},{"../utils/common":41}],53:[function(r,b,l){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,b,l){(function(n){(function(a,e){if(!a.setImmediate){var s,d,p,y,f=1,o={},m=!1,c=a.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(a);g=g&&g.setTimeout?g:a,s={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){w(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,A=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=A,E}}()?(y="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(E){a.postMessage(y+E,"*")}):a.MessageChannel?((p=new MessageChannel).port1.onmessage=function(E){w(E.data)},function(E){p.port2.postMessage(E)}):c&&"onreadystatechange"in c.createElement("script")?(d=c.documentElement,function(E){var A=c.createElement("script");A.onreadystatechange=function(){w(E),A.onreadystatechange=null,d.removeChild(A),A=null},d.appendChild(A)}):function(E){setTimeout(w,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var A=new Array(arguments.length-1),O=0;O<A.length;O++)A[O]=arguments[O+1];var R={callback:E,args:A};return o[f]=R,s(f),f++},g.clearImmediate=u}function u(E){delete o[E]}function w(E){if(m)setTimeout(w,0,E);else{var A=o[E];if(A){m=!0;try{(function(O){var R=O.callback,L=O.args;switch(L.length){case 0:R();break;case 1:R(L[0]);break;case 2:R(L[0],L[1]);break;case 3:R(L[0],L[1],L[2]);break;default:R.apply(e,L)}})(A)}finally{u(E),m=!1}}}}function x(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(y)===0&&w(+E.data.slice(y.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof St<"u"?St:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Le);const Ne=Le.exports;function be(h,v){if(Array.isArray(v)){for(const r of v)if(r.trigger==="DEFAULT"||h.includes(r.trigger))return typeof r.value=="string"?r.value:void 0}}const zr=typeof process=="object"&&process&&process.platform==="win32";var Or=zr?{sep:"\\"}:{sep:"/"},Ir=Pe;function Pe(h,v,r){h instanceof RegExp&&(h=ye(h,r)),v instanceof RegExp&&(v=ye(v,r));var b=Ue(h,v,r);return b&&{start:b[0],end:b[1],pre:r.slice(0,b[0]),body:r.slice(b[0]+h.length,b[1]),post:r.slice(b[1]+v.length)}}function ye(h,v){var r=v.match(h);return r?r[0]:null}Pe.range=Ue;function Ue(h,v,r){var b,l,n,a,e,s=r.indexOf(h),d=r.indexOf(v,s+1),p=s;if(s>=0&&d>0){if(h===v)return[s,d];for(b=[],n=r.length;p>=0&&!e;)p==s?(b.push(p),s=r.indexOf(h,p+1)):b.length==1?e=[b.pop(),d]:(l=b.pop(),l<n&&(n=l,a=d),d=r.indexOf(v,p+1)),p=s<d&&s>=0?s:d;b.length&&(e=[n,a])}return e}var Me=Ir,Rr=jr,We="\0SLASH"+Math.random()+"\0",Ze="\0OPEN"+Math.random()+"\0",de="\0CLOSE"+Math.random()+"\0",He="\0COMMA"+Math.random()+"\0",Ge="\0PERIOD"+Math.random()+"\0";function Xt(h){return parseInt(h,10)==h?parseInt(h,10):h.charCodeAt(0)}function Br(h){return h.split("\\\\").join(We).split("\\{").join(Ze).split("\\}").join(de).split("\\,").join(He).split("\\.").join(Ge)}function $r(h){return h.split(We).join("\\").split(Ze).join("{").split(de).join("}").split(He).join(",").split(Ge).join(".")}function Ve(h){if(!h)return[""];var v=[],r=Me("{","}",h);if(!r)return h.split(",");var b=r.pre,l=r.body,n=r.post,a=b.split(",");a[a.length-1]+="{"+l+"}";var e=Ve(n);return n.length&&(a[a.length-1]+=e.shift(),a.push.apply(a,e)),v.push.apply(v,a),v}function jr(h){return h?(h.substr(0,2)==="{}"&&(h="\\{\\}"+h.substr(2)),jt(Br(h),!0).map($r)):[]}function Tr(h){return"{"+h+"}"}function Dr(h){return/^-?0\d/.test(h)}function Fr(h,v){return h<=v}function Lr(h,v){return h>=v}function jt(h,v){var r=[],b=Me("{","}",h);if(!b)return[h];var l=b.pre,n=b.post.length?jt(b.post,!1):[""];if(/\$$/.test(b.pre))for(var a=0;a<n.length;a++){var e=l+"{"+b.body+"}"+n[a];r.push(e)}else{var s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(b.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(b.body),p=s||d,y=b.body.indexOf(",")>=0;if(!p&&!y)return b.post.match(/,.*\}/)?(h=b.pre+"{"+b.body+de+b.post,jt(h)):[h];var f;if(p)f=b.body.split(/\.\./);else if(f=Ve(b.body),f.length===1&&(f=jt(f[0],!1).map(Tr),f.length===1))return n.map(function(M){return b.pre+f[0]+M});var o;if(p){var m=Xt(f[0]),c=Xt(f[1]),g=Math.max(f[0].length,f[1].length),u=f.length==3?Math.abs(Xt(f[2])):1,w=Fr,x=c<m;x&&(u*=-1,w=Lr);var E=f.some(Dr);o=[];for(var A=m;w(A,c);A+=u){var O;if(d)O=String.fromCharCode(A),O==="\\"&&(O="");else if(O=String(A),E){var R=g-O.length;if(R>0){var L=new Array(R+1).join("0");A<0?O="-"+L+O.slice(1):O=L+O}}o.push(O)}}else{o=[];for(var $=0;$<f.length;$++)o.push.apply(o,jt(f[$],!1))}for(var $=0;$<o.length;$++)for(var a=0;a<n.length;a++){var e=l+o[$]+n[a];(!v||p||e)&&r.push(e)}}return r}const gt=Ke=(h,v,r={})=>(Ht(v),!r.nocomment&&v.charAt(0)==="#"?!1:new Gt(v,r).match(h));var Ke=gt;const re=Or;gt.sep=re.sep;const yt=Symbol("globstar **");gt.GLOBSTAR=yt;const Nr=Rr,we={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ne="[^/]",Yt=ne+"*?",Pr="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ur="(?:(?!(?:\\/|^)\\.).)*?",Je=h=>h.split("").reduce((v,r)=>(v[r]=!0,v),{}),ke=Je("().*{}+?[]^$\\!"),Mr=Je("[.("),xe=/\/+/;gt.filter=(h,v={})=>(r,b,l)=>gt(r,h,v);const At=(h,v={})=>{const r={};return Object.keys(h).forEach(b=>r[b]=h[b]),Object.keys(v).forEach(b=>r[b]=v[b]),r};gt.defaults=h=>{if(!h||typeof h!="object"||!Object.keys(h).length)return gt;const v=gt,r=(b,l,n)=>v(b,l,At(h,n));return r.Minimatch=class extends v.Minimatch{constructor(l,n){super(l,At(h,n))}},r.Minimatch.defaults=b=>v.defaults(At(h,b)).Minimatch,r.filter=(b,l)=>v.filter(b,At(h,l)),r.defaults=b=>v.defaults(At(h,b)),r.makeRe=(b,l)=>v.makeRe(b,At(h,l)),r.braceExpand=(b,l)=>v.braceExpand(b,At(h,l)),r.match=(b,l,n)=>v.match(b,l,At(h,n)),r};gt.braceExpand=(h,v)=>Xe(h,v);const Xe=(h,v={})=>(Ht(h),v.nobrace||!/\{(?:(?!\{).)*\}/.test(h)?[h]:Nr(h)),Wr=1024*64,Ht=h=>{if(typeof h!="string")throw new TypeError("invalid pattern");if(h.length>Wr)throw new TypeError("pattern is too long")},Ut=Symbol("subparse");gt.makeRe=(h,v)=>new Gt(h,v||{}).makeRe();gt.match=(h,v,r={})=>{const b=new Gt(v,r);return h=h.filter(l=>b.match(l)),b.options.nonull&&!h.length&&h.push(v),h};const Zr=h=>h.replace(/\\(.)/g,"$1"),Hr=h=>h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Gt{constructor(v,r){Ht(v),r||(r={}),this.options=r,this.set=[],this.pattern=v,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){const v=this.pattern,r=this.options;if(!r.nocomment&&v.charAt(0)==="#"){this.comment=!0;return}if(!v){this.empty=!0;return}this.parseNegate();let b=this.globSet=this.braceExpand();r.debug&&(this.debug=(...l)=>console.error(...l)),this.debug(this.pattern,b),b=this.globParts=b.map(l=>l.split(xe)),this.debug(this.pattern,b),b=b.map((l,n,a)=>l.map(this.parse,this)),this.debug(this.pattern,b),b=b.filter(l=>l.indexOf(!1)===-1),this.debug(this.pattern,b),this.set=b}parseNegate(){if(this.options.nonegate)return;const v=this.pattern;let r=!1,b=0;for(let l=0;l<v.length&&v.charAt(l)==="!";l++)r=!r,b++;b&&(this.pattern=v.slice(b)),this.negate=r}matchOne(v,r,b){var l=this.options;this.debug("matchOne",{this:this,file:v,pattern:r}),this.debug("matchOne",v.length,r.length);for(var n=0,a=0,e=v.length,s=r.length;n<e&&a<s;n++,a++){this.debug("matchOne loop");var d=r[a],p=v[n];if(this.debug(r,d,p),d===!1)return!1;if(d===yt){this.debug("GLOBSTAR",[r,d,p]);var y=n,f=a+1;if(f===s){for(this.debug("** at the end");n<e;n++)if(v[n]==="."||v[n]===".."||!l.dot&&v[n].charAt(0)===".")return!1;return!0}for(;y<e;){var o=v[y];if(this.debug(`
globstar while`,v,y,r,f,o),this.matchOne(v.slice(y),r.slice(f),b))return this.debug("globstar found match!",y,e,o),!0;if(o==="."||o===".."||!l.dot&&o.charAt(0)==="."){this.debug("dot detected!",v,y,r,f);break}this.debug("globstar swallow a segment, and continue"),y++}return!!(b&&(this.debug(`
>>> no match, partial?`,v,y,r,f),y===e))}var m;if(typeof d=="string"?(m=p===d,this.debug("string match",d,p,m)):(m=p.match(d),this.debug("pattern match",d,p,m)),!m)return!1}if(n===e&&a===s)return!0;if(n===e)return b;if(a===s)return n===e-1&&v[n]==="";throw new Error("wtf?")}braceExpand(){return Xe(this.pattern,this.options)}parse(v,r){Ht(v);const b=this.options;if(v==="**")if(b.noglobstar)v="*";else return yt;if(v==="")return"";let l="",n=!!b.nocase,a=!1;const e=[],s=[];let d,p=!1,y=-1,f=-1,o,m,c;const g=v.charAt(0)==="."?"":b.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",u=()=>{if(d){switch(d){case"*":l+=Yt,n=!0;break;case"?":l+=ne,n=!0;break;default:l+="\\"+d;break}this.debug("clearStateChar %j %j",d,l),d=!1}};for(let E=0,A;E<v.length&&(A=v.charAt(E));E++){if(this.debug("%s	%s %s %j",v,E,l,A),a){if(A==="/")return!1;ke[A]&&(l+="\\"),l+=A,a=!1;continue}switch(A){case"/":return!1;case"\\":u(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",v,E,l,A),p){this.debug("  in class"),A==="!"&&E===f+1&&(A="^"),l+=A;continue}this.debug("call clearStateChar %j",d),u(),d=A,b.noext&&u();continue;case"(":if(p){l+="(";continue}if(!d){l+="\\(";continue}e.push({type:d,start:E-1,reStart:l.length,open:we[d].open,close:we[d].close}),l+=d==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",d,l),d=!1;continue;case")":if(p||!e.length){l+="\\)";continue}u(),n=!0,m=e.pop(),l+=m.close,m.type==="!"&&s.push(m),m.reEnd=l.length;continue;case"|":if(p||!e.length){l+="\\|";continue}u(),l+="|";continue;case"[":if(u(),p){l+="\\"+A;continue}p=!0,f=E,y=l.length,l+=A;continue;case"]":if(E===f+1||!p){l+="\\"+A;continue}o=v.substring(f+1,E);try{RegExp("["+o+"]")}catch{c=this.parse(o,Ut),l=l.substring(0,y)+"\\["+c[0]+"\\]",n=n||c[1],p=!1;continue}n=!0,p=!1,l+=A;continue;default:u(),ke[A]&&!(A==="^"&&p)&&(l+="\\"),l+=A;break}}for(p&&(o=v.slice(f+1),c=this.parse(o,Ut),l=l.substring(0,y)+"\\["+c[0],n=n||c[1]),m=e.pop();m;m=e.pop()){let E;E=l.slice(m.reStart+m.open.length),this.debug("setting tail",l,m),E=E.replace(/((?:\\{2}){0,64})(\\?)\|/g,(O,R,L)=>(L||(L="\\"),R+R+L+"|")),this.debug(`tail=%j
   %s`,E,E,m,l);const A=m.type==="*"?Yt:m.type==="?"?ne:"\\"+m.type;n=!0,l=l.slice(0,m.reStart)+A+"\\("+E}u(),a&&(l+="\\\\");const w=Mr[l.charAt(0)];for(let E=s.length-1;E>-1;E--){const A=s[E],O=l.slice(0,A.reStart),R=l.slice(A.reStart,A.reEnd-8);let L=l.slice(A.reEnd);const $=l.slice(A.reEnd-8,A.reEnd)+L,M=O.split("(").length-1;let X=L;for(let B=0;B<M;B++)X=X.replace(/\)[+*?]?/,"");L=X;const S=L===""&&r!==Ut?"$":"";l=O+R+L+S+$}if(l!==""&&n&&(l="(?=.)"+l),w&&(l=g+l),r===Ut)return[l,n];if(!n)return Zr(v);const x=b.nocase?"i":"";try{return Object.assign(new RegExp("^"+l+"$",x),{_glob:v,_src:l})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const v=this.set;if(!v.length)return this.regexp=!1,this.regexp;const r=this.options,b=r.noglobstar?Yt:r.dot?Pr:Ur,l=r.nocase?"i":"";let n=v.map(a=>(a=a.map(e=>typeof e=="string"?Hr(e):e===yt?yt:e._src).reduce((e,s)=>(e[e.length-1]===yt&&s===yt||e.push(s),e),[]),a.forEach((e,s)=>{e!==yt||a[s-1]===yt||(s===0?a.length>1?a[s+1]="(?:\\/|"+b+"\\/)?"+a[s+1]:a[s]=b:s===a.length-1?a[s-1]+="(?:\\/|"+b+")?":(a[s-1]+="(?:\\/|\\/"+b+"\\/)"+a[s+1],a[s+1]=yt))}),a.filter(e=>e!==yt).join("/"))).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,l)}catch{this.regexp=!1}return this.regexp}match(v,r=this.partial){if(this.debug("match",v,this.pattern),this.comment)return!1;if(this.empty)return v==="";if(v==="/"&&r)return!0;const b=this.options;re.sep!=="/"&&(v=v.split(re.sep).join("/")),v=v.split(xe),this.debug(this.pattern,"split",v);const l=this.set;this.debug(this.pattern,"set",l);let n;for(let a=v.length-1;a>=0&&(n=v[a],!n);a--);for(let a=0;a<l.length;a++){const e=l[a];let s=v;if(b.matchBase&&e.length===1&&(s=[n]),this.matchOne(s,e,r))return b.flipNegate?!0:!this.negate}return b.flipNegate?!1:this.negate}static defaults(v){return gt.defaults(v).Minimatch}}gt.Minimatch=Gt;function Gr(h){const v=h.split("/");return v[v.length-1]??""}function Ye(h){const v=Ke.makeRe(h);if(v===!1)throw new Error(`Failed to parse glob pattern "${h}"`);return v}function qe(h,v){const r=[];for(const b of v){const l=Ye(b);h.forEach(n=>{l.test(n)&&r.push(n)})}return r}function Vr(h,v,r){typeof v=="string"&&(v=[v]),v=qe(h,v);const b=v.map(l=>{const n=h.file(l);if(n===null)throw new Error(`No file at "${l}"`);return n});if(r.endsWith("/")){const l=h.folder(r);if(l===null)throw new Error(`Failed to create folder "${r}"`);for(const n of b){const a=Gr(n.name);l.file(a,n.async("arraybuffer"))}}else for(const l of b)h.file(r,l.async("arraybuffer"))}const Kr=V.object({extends:V.string().optional(),set:V.record(V.string()).optional(),remove:V.string().array().optional()}),Jr=V.object({from:V.union([V.string(),V.string().array()]),to:V.string()}),Xr=V.object({extends:V.string().optional(),langs:V.record(Kr).optional(),files:V.object({copy:V.boolean().optional(),move:Jr.array().optional(),remove:V.string().array().optional()}).optional()}),Yr=V.object({templates:V.object({format_name:V.string(),format_path:V.string(),zips_path:V.string()}),pack_formats:V.object({versions:V.string().array()}),version_names:V.record(V.string())}),qr=Ye("assets/*/lang/*.json");function Qr(h,v,r,b,l){const n=[...r].sort(([d],[p])=>d.apply_order-p.apply_order),a=[h.templates.base_zip_name];let e;for(const[d,p]of n){if(p?.url===void 0)continue;const y=Zt(v,p.branch),f=h.templates.variant_addon_zip_name.replace("{id_pos}",d.id_pos.toString()).replace("{variant}",p.id).replace("{branch}",y);a.push(f);const o=be(v,d.license);o!==void 0&&(e=o)}function s(d,p){for(const y of d){const f=Zt(v,y.branch),o=p.replace("{id}",y.id).replace("{branch}",f);a.push(o);const m=be(v,y.license);m!==void 0&&(e=m)}}return s(b,h.templates.regular_addon_zip_name),s(l,h.templates.mod_addon_zip_name),{zips:a,license:e}}async function ie(h){const v=new Map,r=h.file(qr);for(const b of r){const l=await b.async("string"),n=JSON.parse(l);v.set(b.name,n)}return v}function Se(h){return h.map(v=>v.id).join("-")}function qt(h,v){if(v.set!==void 0)for(const[r,b]of Object.entries(v.set))h[r]=b;if(Array.isArray(v.remove))for(const r of v.remove)delete h[r]}async function Qe(h,v,r,b,l){const n=v.templates.format_name.replace("{version}",b),a=v.templates.format_path.replace("{name}",n),e=await ee(`${h}/${a}`,Xr);if(e.extends!==void 0&&await Qe(h,v,r,e.extends,l),e.files!==void 0){let y;if(e.files.copy===!0){l("Downloading downgrade assets ...");const f=v.templates.zips_path.replace("{name}",n),o=await fetch(`${h}/${f}`);y=await Ne.loadAsync(o.arrayBuffer())}if(Array.isArray(e.files.move)){l('Applying downgrade action "move" ...');for(const f of e.files.move)Vr(r,f.from,f.to)}if(y!==void 0&&(l("Copying downgrade assets ..."),await r.loadAsync(y.generateAsync({type:"arraybuffer"}),{createFolders:!0})),Array.isArray(e.files.remove)){const f=qe(r,e.files.remove);for(const o of f)r.remove(o)}}if(e.langs!==void 0){l("Applying language downgrade ...");const y=await ie(r);for(const[f,o]of Object.entries(e.langs))if(f==="*")y.forEach(m=>{qt(m,o)});else{let m;for(const[c,g]of y)if(c.endsWith(`${f}.json`)){m=g;break}if(m===void 0)throw new Error(`No lang with name "${f}"`);if(o.extends!==void 0){const c=e.langs[o.extends];if(c===void 0)throw new Error(`No lang downgrade for "${o.extends}" inherited from "${f}"`);qt(m,c)}qt(m,o)}y.forEach((f,o)=>{r.file(o,JSON.stringify(f,null,2))})}l("Updating pack.mcmeta ...");const s=r.file("pack.mcmeta");if(s===null)throw new Error("No pack.mcmeta");const d=await s.async("string"),p=JSON.parse(d);p.pack.pack_format=parseInt(b),r.file("pack.mcmeta",JSON.stringify(p,null,2))}async function tn(h,v,r,b,l,n,a,e,s){s("Downloading assets ...");let d=0;const p=Qr(v,b,l,n,a),y=await Promise.all(p.zips.map(async O=>{O=v.templates.zips_path.replace("{name}",O);const R=await fetch(`${h}/${O}`);return s(`Downloading assets (${++d}/${p.zips.length}) ...`),Ne.loadAsync(R.arrayBuffer())})),[f,...o]=y;if(f===void 0)throw new Error("Base zip is undefined");let m=0;for(const O of o){s(`Applying addons (${++m}/${o.length}) ...`);const R=await ie(f),L=await ie(O);await f.loadAsync(O.generateAsync({type:"arraybuffer"}),{createFolders:!0});for(const[$,M]of L){const X=R.get($);if(X===void 0)continue;const S={...X};for(const[B,i]of Object.entries(M))S[B]=i;f.file($,JSON.stringify(S,null,2))}}if(p.license!==void 0){s("Applying license override ...");const O=await fetch(p.license);f.file("LICENSE",O.arrayBuffer())}let c=v.repos.base.pack_format;e!=="none"&&(s("Applying downgrade ..."),await Qe(h,r,f,e,s),c=e),s("Preparing the result ...");const g=await f.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}},({percent:O})=>{s(`Preparing the result ${O.toFixed(0)}% ...`)});s("Saving the result ...");const u=l.map(([,O])=>O?.id??"?").join(""),w=Se(n),x=Se(a),E=[u,w,x].filter(O=>O.length>0).join("-"),A=v.templates.filename.replace("{version}",v.repos.base.version).replace("{format}",c).replace("{ids}",E);Fe.exports.saveAs(g,A),s("All done!")}const en=dt('<div class="hstack"><label><strong>Minecraft version:</strong></label><select class="select"><option value="none"></option><!#><!/></select></div>'),rn=dt("<option></option>"),nn=h=>{const v=cr();function r(b){return h.data.version_names[b]??h.data.templates.format_name.replace("{version}",b)}return(()=>{const b=lt(en),l=b.firstChild,n=l.nextSibling,a=n.firstChild,e=a.nextSibling,[s,d]=Ct(e.nextSibling);return vt(l,"for",v),n.addEventListener("change",p=>h.onChange(p.currentTarget.value)),vt(n,"id",v),ot(a,()=>h.latestVersion),ot(n,at(It,{get each(){return h.data.pack_formats.versions},children:p=>(()=>{const y=lt(rn);return y.value=p,ot(y,()=>r(p)),y})()}),s,d),zt(()=>n.value=h.value),b})()},an=V.object({mc_versions:V.string(),pack_format:V.string(),version:V.string(),url:V.string()}),tr=V.union([V.string(),V.object({trigger:V.string(),value:V.string()}).array()]),er=V.union([V.boolean(),V.object({trigger:V.string(),value:V.union([V.boolean(),V.string()])}).array()]),sn=V.object({name:V.string(),url:V.string().or(V.object({name:V.string(),value:V.string()}).array())}),on=V.object({name:V.string(),id:V.string(),image:V.string().optional(),description:V.string().optional(),url:V.string().optional(),branch:tr.optional(),trigger:V.string().optional()}),ln=V.object({name:V.string(),id_pos:V.number(),apply_order:V.number(),default_variant:V.string(),variants:on.array(),license:er.optional()}),Ae=V.object({id:V.string(),name:V.string(),recommended:V.boolean(),url:V.string(),description:V.string().optional(),info:V.string().array().optional(),links:sn.array().optional(),branch:tr.optional(),license:er.optional()}),cn=V.object({templates:V.object({zips_path:V.string(),base_zip_name:V.string(),variant_addon_zip_name:V.string(),regular_addon_zip_name:V.string(),mod_addon_zip_name:V.string(),filename:V.string()}),repos:V.object({base:an,addons:V.object({exclusive:ln.array(),regular:Ae.array(),mods:Ae.array()})})}),un=dt('<div class="hcard"><div class="hcard-body"><div class="hcard-image"><img></div><div class="hcard-content"><div class="hcard-title"><h5></h5><!#><!/></div><div class="hcard-actions"></div><p></p></div></div></div>'),hn=dt('<a class="icon-link"><i class="fab fa-github"></i></a>'),dn=dt('<i class="fas fa-star" title="Recommended"></i>'),fn=dt("<button><span></span><!#><!/></button>"),pn=h=>{const v=mt(()=>h.data.variants.find(e=>e.id===h.selectedVariant)??null),r=mt(()=>{const e=v()?.url;return e===void 0?null:le(e)}),b=mt(()=>Zt(h.triggers,v()?.branch)),l=mt(()=>{const e=v()?.image;if(e!==void 0)return e;const s=r();return s!==null?ce(...s,b(),"pack.png"):null}),n=mt(()=>[v(),r()]),[a]=se(n,async([e,s])=>e?.description!==void 0?e.description:s!==null?(await Ie(...s)).description:null);return(()=>{const e=lt(un),s=e.firstChild,d=s.firstChild,p=d.firstChild,y=d.nextSibling,f=y.firstChild,o=f.firstChild,m=o.nextSibling,[c,g]=Ct(m.nextSibling),u=f.nextSibling,w=u.nextSibling;return ot(o,()=>h.data.name),ot(f,at(Ot,{get when(){return v()?.url},keyed:!0,children:x=>(()=>{const E=lt(hn);return vt(E,"href",x),zt(()=>vt(E,"title",`"${v()?.name}" variant GitHub repo`)),E})()}),c,g),ot(u,at(It,{get each(){return h.data.variants},children:x=>(()=>{const E=lt(fn),A=E.firstChild,O=A.nextSibling,[R,L]=Ct(O.nextSibling);return ur(E,"click",h.onVariant.bind(null,x.id),!0),ot(A,()=>x.name),ot(E,at(Ot,{get when(){return x.id===h.data.default_variant},get children(){return lt(dn)}}),R,L),zt(()=>Dt(E,Be("btn",h.selectedVariant===x.id?"btn--primary":"btn--light"))),oe(),E})()})),ot(w,at(Oe,{fallback:"Loading ...",get children(){return a()??"No description"}})),zt(x=>{const E=l()===null,A=l()??h.defaultImage,O=`"${v()?.name}" variant image`;return E!==x._v$&&d.classList.toggle("hcard-image--muted",x._v$=E),A!==x._v$2&&vt(p,"src",x._v$2=A),O!==x._v$3&&vt(p,"alt",x._v$3=O),x},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()};ae(["click"]);const mn=dt("<h2>Custom Java downloads</h2>"),gn=dt("<h2>Loading...</h2>"),_n=dt('<div class="hstack hstack--md"><button type="button" class="btn btn--primary btn--medium"><span>Build</span><i></i></button><button type="button" class="btn btn--danger btn--medium"><span>Reset</span><i class="fas fa-rotate-right"></i></button><div></div></div>'),rr=dt("<h4></h4>"),nr=dt('<div class="hcards"></div>'),vn=`${ue}/assets/java.json`,bn=`${ue}/assets/downgrades/java.json`,zn=()=>{async function h(){const r=ee(vn,cn),b=ee(bn,Yr);return Promise.all([r,b])}const[v]=se(h);return[lt(mn),at(hr,{fallback:dr,get children(){return at(Ot,{get when(){return v()},keyed:!0,get fallback(){return lt(gn)},children:([r,b])=>at(wn,{assets:r,downgrades:b})})}})]};function yn(h,v){return v.map(r=>{const b=h[r.id_pos]??r.default_variant,l=r.variants.find(n=>n.id===b);return[r,l]})}function Ee(h,v){return v.filter(r=>h[r.id]??r.recommended)}const wn=h=>{const v=Kt({}),r=Kt({}),b=Kt({}),[l,n]=Mt(!1),[a,e]=Mt(""),[s,d]=Mt("none"),p=mt(()=>{const[u,w]=le(h.assets.repos.base.url);return ce(u,w,"HEAD","pack.png")}),y=mt(()=>yn(v,h.assets.repos.addons.exclusive)),f=mt(()=>Ee(r,h.assets.repos.addons.regular)),o=mt(()=>Ee(b,h.assets.repos.addons.mods)),m=mt(()=>{const u=[];for(const[,w]of y())w?.trigger!==void 0&&u.push(w.trigger);return u});function c(){Tt(()=>{d("none"),Jt(v),Jt(r),Jt(b)})}async function g(){n(!0);try{await tn(ue,h.assets,h.downgrades,m(),y(),f(),o(),s(),e)}catch(u){u instanceof Error?e(`${u.name}: ${u.message}`):e(String(u)),console.error(u)}setTimeout(()=>{e(""),n(!1)},3e3)}return[(()=>{const u=lt(_n),w=u.firstChild,x=w.firstChild,E=x.nextSibling,A=w.nextSibling,O=A.nextSibling;return w.$$click=g,A.$$click=c,ot(O,a),zt(R=>{const L=l(),$=Be("fas",l()?"fa-spinner":"fa-hammer"),M=!!l();return L!==R._v$&&(w.disabled=R._v$=L),$!==R._v$2&&Dt(E,R._v$2=$),M!==R._v$3&&E.classList.toggle("fa-spin",R._v$3=M),R},{_v$:void 0,_v$2:void 0,_v$3:void 0}),oe(),u})(),at(nn,{get data(){return h.downgrades},get latestVersion(){return h.assets.repos.base.mc_versions},get value(){return s()},onChange:d}),at(kn,{title:"Exclusive add-ons",get triggers(){return m()},state:v,get defaultImage(){return p()},get addons(){return h.assets.repos.addons.exclusive}}),at(Ce,{title:"Regular add-ons",get triggers(){return m()},state:r,get addons(){return h.assets.repos.addons.regular}}),at(Ce,{title:"Mod add-ons",get triggers(){return m()},state:b,get addons(){return h.assets.repos.addons.mods}})]},kn=h=>[(()=>{const v=lt(rr);return ot(v,()=>h.title),v})(),(()=>{const v=lt(nr);return ot(v,at(It,{get each(){return h.addons},children:r=>at(pn,{get triggers(){return h.triggers},get defaultImage(){return h.defaultImage},data:r,get selectedVariant(){return h.state[r.id_pos]??r.default_variant},onVariant:b=>h.state[r.id_pos]=b})})),v})()],Ce=h=>[(()=>{const v=lt(rr);return ot(v,()=>h.title),v})(),(()=>{const v=lt(nr);return ot(v,at(It,{get each(){return h.addons},children:r=>at(Cr,{get triggers(){return h.triggers},data:r,get active(){return h.state[r.id]??r.recommended},onToggle:b=>h.state[r.id]=b})})),v})()];ae(["click"]);export{zn as Addons};
