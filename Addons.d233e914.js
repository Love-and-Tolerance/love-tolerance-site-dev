import{j as f,v as B,g,p,i as u,n as l,x as F,b as H,s as v,t as m,S as M,F as D,E as G}from"./chunks/web.5a107bf2.js";import{p as J,g as L,f as U,h as q,a as I}from"./chunks/zod.a27d3169.js";import{m as e}from"./chunks/index.cf4744a4.js";const O=m('<div class="card card--row"><div class="card__image"><img class="img--pixelated" alt="Addon icon"></div><div class="card__body flex flex--xsmall"><h5 class="card__title"></h5><div class="card__content"><!#><!/> (<a>GitHub</a>)</div><a class="btn btn--primary"><span class="btn-label">Download</span><span class="btn-icon btn-icon--right"><i class="fas fa-arrow-up-right-from-square"></i></span></a></div></div>'),A=({assets:s,addon:a})=>{const t=f(()=>J(a.url)),n=f(()=>{const[r,c]=t();return L(r,c,"HEAD","pack_icon.png")}),d=f(()=>a.filename.replace("{version}",s.repos.base.version)),o=f(()=>s.templates.asset_url.replace("{tag}",s.repos.base.tag).replace("{filename}",d())),[_]=B(async()=>{const{description:r}=await U(...t());return r});return(()=>{const r=g(O),c=r.firstChild,$=c.firstChild,b=c.nextSibling,S=b.firstChild,h=S.nextSibling,C=h.firstChild,[x,E]=p(C.nextSibling),y=x.nextSibling,R=y.nextSibling,N=h.nextSibling;return u(S,()=>a.name),u(h,l(F,{fallback:"Loading ...",get children(){return _()??"No description"}}),x,E),H(i=>{const k=n(),w=a.url,j=o();return k!==i._v$&&v($,"src",i._v$=k),w!==i._v$2&&v(R,"href",i._v$2=w),j!==i._v$3&&v(N,"href",i._v$3=j),i},{_v$:void 0,_v$2:void 0,_v$3:void 0}),r})()},T=e.object({mc_versions:e.string(),pack_format:e.string(),tag:e.string(),version:e.string(),filename:e.string(),url:e.string()}),z=e.object({name:e.string(),filename:e.string(),url:e.string()}),K=e.object({templates:e.object({asset_url:e.string()}),repos:e.object({base:T,addons:z.array()})}),P=m("<h2>Bedrock downloads</h2>"),Q=m("<h2>Loading...</h2>"),V=m("<h3>Minecraft Bedrock versions: <!#><!/></h3>"),W=m('<div class="grid grid--col-2"><!#><!/><!#><!/></div>'),X=`${I}/assets/bedrock.json`;async function Y(){const s=await fetch(X,{headers:{Accept:"application/json"}});if(s.status!==200)throw new Error(`Failed to fetch assets json: ${s.status}`);const a=await s.json();return K.parse(a)}const ne=()=>{const[s]=B(Y);function a(t){return{name:"Base resourcepack",filename:t.filename,url:t.url}}return[g(P),l(G,{fallback:q,get children(){return l(M,{get when(){return s()},keyed:!0,get fallback(){return g(Q)},children:t=>[(()=>{const n=g(V),d=n.firstChild,o=d.nextSibling,[_,r]=p(o.nextSibling);return u(n,()=>t.repos.base.mc_versions,_,r),n})(),(()=>{const n=g(W),d=n.firstChild,[o,_]=p(d.nextSibling),r=o.nextSibling,[c,$]=p(r.nextSibling);return u(n,l(A,{assets:t,get addon(){return a(t.repos.base)}}),o,_),u(n,l(D,{get each(){return t.repos.addons},children:b=>l(A,{assets:t,addon:b})}),c,$),n})()]})}})]};export{ne as Addons};
