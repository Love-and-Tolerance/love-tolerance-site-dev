import{S as F,i as K,s as Q,e as E,P as T,d as P,f as y,Q as U,h as v,j as S,V as M,l as N,m as I,R as q,p as x,w as it,y as at,I as ct,J as ut,K as ft,t as R,r as J,L as dt,b as G,g as L,O as tt,E as ht,F as mt,T as gt,N as pt,W as bt,C as wt}from"./chunks/chunk.04e4fa0f.js";import{c as At}from"./chunks/chunk.a8af5ea4.js";/* empty css                     */function It(e){return e!=null}function z(e){return e===void 0||e===""}function jt(e){if(e.startsWith("https://github.com/"))return e.replace("https://github.com/","");if(e.startsWith("git@github.com:"))return e.replace("git@github.com:","");throw new Error(`Unsupported URL. Only SSH- and HTTPS-like GitHub URLs are supported (${e})`)}function Dt(e,t){return z(t)?e.replace(/\.git$/,""):e}function _t(e){const[t,n,s]=jt(e).split("/");if(z(t)||z(n))throw new Error(`GitHub URL must contain repo's owner and name (${e})`);return{owner:t,name:Dt(n,s)}}function vt(e,t,n){return t??="HEAD",`https://raw.githubusercontent.com/${e.owner}/${e.name}/${t}/${n}`}function kt(e,t,n,s){let i=`https://github.com/${e.owner}/${e.name}/`;return It(n)&&(t??="tree",i+=`${t}/${n}/`,s!==void 0&&(i+=s)),i}function St(e){let t,n,s,i;return{c(){t=E("div"),n=T(e[1]),this.h()},l(r){t=P(r,"DIV",{class:!0});var u=y(t);n=U(u,e[1]),u.forEach(v),this.h()},h(){S(t,"class","variant svelte-krdepm"),M(t,"selected",e[0])},m(r,u){N(r,t,u),I(t,n),s||(i=q(t,"click",e[2]),s=!0)},p(r,[u]){u&1&&M(t,"selected",r[0])},i:x,o:x,d(r){r&&v(t),s=!1,i()}}}function Vt(e,t,n){let{json:s}=t,{currentVariantID:i}=t;const r=s.getPrimitive("name").getAsString(),u=s.getPrimitive("id").getAsString(),h=(()=>{const a=s.get("branch");return a===null?null:a.getAsString()})();let g=!1,m=null,w=null,A=null,b=null;const V=it();function k(){V("click",{id:u,url:m,description:A,image:b})}return at(async()=>{const a=s.get("url"),f=s.get("pack.png");if(f!==null&&n(7,b=f.getAsString()),a!==null){w=_t(a.getAsString());const H=await fetch(`https://api.github.com/repos/${w.owner}/${w.name}`,{headers:{Accept:"application/vnd.github.v3+json"}});n(5,m=kt(w,"tree",h)),b===null&&n(7,b=vt(w,h,"pack.png"));const d=await H.json();n(6,A=d.description)}g&&V("info",{id:u,url:m,description:A,image:b})}),e.$$set=a=>{"json"in a&&n(3,s=a.json),"currentVariantID"in a&&n(4,i=a.currentVariantID)},e.$$.update=()=>{e.$$.dirty&240&&(n(0,g=i===u),V("info",{id:u,url:m,description:A,image:b}))},[g,r,k,s,i,m,A,b]}class Et extends F{constructor(t){super(),K(this,t,Vt,St,Q,{json:3,currentVariantID:4})}}function et(e,t,n){const s=e.slice();return s[17]=t[n],s}function nt(e){let t,n;return t=new Et({props:{currentVariantID:e[1],json:e[17].getAsObject()}}),t.$on("click",e[7]),t.$on("info",e[8]),{c(){ct(t.$$.fragment)},l(s){ut(t.$$.fragment,s)},m(s,i){ft(t,s,i),n=!0},p(s,i){const r={};i&2&&(r.currentVariantID=s[1]),t.$set(r)},i(s){n||(R(t.$$.fragment,s),n=!0)},o(s){J(t.$$.fragment,s),n=!1},d(s){dt(t,s)}}}function st(e){let t,n,s,i;return{c(){t=T("("),n=E("a"),s=T("GitHub"),i=T(")"),this.h()},l(r){t=U(r,"("),n=P(r,"A",{href:!0});var u=y(n);s=U(u,"GitHub"),u.forEach(v),i=U(r,")"),this.h()},h(){S(n,"href",e[4])},m(r,u){N(r,t,u),N(r,n,u),I(n,s),N(r,i,u)},p(r,u){u&16&&S(n,"href",r[4])},d(r){r&&v(t),r&&v(n),r&&v(i)}}}function Pt(e){let t,n,s,i,r,u,h,g,m,w,A,b,V,k,a=e[6],f=[];for(let c=0;c<a.length;c+=1)f[c]=nt(et(e,a,c));const H=c=>J(f[c],1,1,()=>{f[c]=null});let d=e[4]!==null&&st(e);return{c(){t=E("div"),n=E("img"),i=G(),r=E("div"),u=E("h5"),h=T(e[5]),g=G(),m=E("div");for(let c=0;c<f.length;c+=1)f[c].c();w=G(),A=E("div"),b=T(e[2]),V=G(),d&&d.c(),this.h()},l(c){t=P(c,"DIV",{class:!0});var l=y(t);n=P(l,"IMG",{class:!0,src:!0,alt:!0}),i=L(l),r=P(l,"DIV",{class:!0});var p=y(r);u=P(p,"H5",{class:!0});var O=y(u);h=U(O,e[5]),O.forEach(v),g=L(p),m=P(p,"DIV",{class:!0});var _=y(m);for(let o=0;o<f.length;o+=1)f[o].l(_);_.forEach(v),w=L(p),A=P(p,"DIV",{class:!0});var B=y(A);b=U(B,e[2]),V=L(B),d&&d.l(B),B.forEach(v),p.forEach(v),l.forEach(v),this.h()},h(){S(n,"class","addon__image svelte-wtrwh8"),tt(n.src,s=e[3])||S(n,"src",s),S(n,"alt","Addon icon"),M(n,"default",e[3]===e[0]),S(u,"class","addon__name"),S(m,"class","addon__variants svelte-wtrwh8"),S(A,"class","addon__description"),S(r,"class","addon__content svelte-wtrwh8"),S(t,"class","addon svelte-wtrwh8")},m(c,l){N(c,t,l),I(t,n),I(t,i),I(t,r),I(r,u),I(u,h),I(r,g),I(r,m);for(let p=0;p<f.length;p+=1)f[p].m(m,null);I(r,w),I(r,A),I(A,b),I(A,V),d&&d.m(A,null),k=!0},p(c,[l]){if((!k||l&8&&!tt(n.src,s=c[3]))&&S(n,"src",s),l&9&&M(n,"default",c[3]===c[0]),l&450){a=c[6];let p;for(p=0;p<a.length;p+=1){const O=et(c,a,p);f[p]?(f[p].p(O,l),R(f[p],1)):(f[p]=nt(O),f[p].c(),R(f[p],1),f[p].m(m,null))}for(ht(),p=a.length;p<f.length;p+=1)H(p);mt()}(!k||l&4)&&gt(b,c[2]),c[4]!==null?d?d.p(c,l):(d=st(c),d.c(),d.m(A,null)):d&&(d.d(1),d=null)},i(c){if(!k){for(let l=0;l<a.length;l+=1)R(f[l]);k=!0}},o(c){f=f.filter(Boolean);for(let l=0;l<f.length;l+=1)J(f[l]);k=!1},d(c){c&&v(t),pt(f,c),d&&d.d()}}}const rt="No description";function yt(e,t,n){let{defaultImage:s}=t,{json:i}=t;const r=it(),u=i.getPrimitive("default").getAsString(),h=i.getPrimitive("name").getAsString(),g=i.getPrimitive("id_pos").getAsInteger()-1,m=Array.from(i.getArray("variants").iterator());let w=u,A=rt,b=s,V=null;function k(l){n(1,w=l),r("variant",{pos:g,variant:w})}function a(l){n(4,V=l.url),n(2,A=l.description??rt),n(3,b=l.image??s)}function f(l){a(l.detail),k(l.detail.id)}function H(l){w===l.detail.id&&(a(l.detail),k(l.detail.id))}function d(){k("x")}function c(){k(u)}return e.$$set=l=>{"defaultImage"in l&&n(0,s=l.defaultImage),"json"in l&&n(9,i=l.json)},[s,w,A,b,V,h,m,f,H,i,d,c]}class Ht extends F{constructor(t){super(),K(this,t,yt,Pt,Q,{defaultImage:0,json:9,reset:10,resetDefault:11})}get reset(){return this.$$.ctx[10]}get resetDefault(){return this.$$.ctx[11]}}function lt(e,t,n){const s=e.slice();return s[12]=t[n],s[13]=t,s[14]=n,s}function ot(e){let t,n=e[14],s;const i=()=>e[11](t,n),r=()=>e[11](null,n);let u={defaultImage:e[0],json:e[12].getAsObject()};return t=new Ht({props:u}),i(),t.$on("variant",e[5]),{c(){ct(t.$$.fragment)},l(h){ut(t.$$.fragment,h)},m(h,g){ft(t,h,g),s=!0},p(h,g){n!==h[14]&&(r(),n=h[14],i());const m={};g&1&&(m.defaultImage=h[0]),g&4&&(m.json=h[12].getAsObject()),t.$set(m)},i(h){s||(R(t.$$.fragment,h),s=!0)},o(h){J(t.$$.fragment,h),s=!1},d(h){r(),dt(t,h)}}}function Ot(e){let t,n,s,i,r,u,h,g,m,w,A,b,V,k,a,f,H,d,c,l,p,O=e[2],_=[];for(let o=0;o<O.length;o+=1)_[o]=ot(lt(e,O,o));const B=o=>J(_[o],1,1,()=>{_[o]=null});return{c(){t=E("h2"),n=T("Custom downloads"),s=G(),i=E("h3"),r=T("Minecraft version: "),u=T(e[1]),h=G(),g=E("div"),m=E("button"),w=T("Reset"),A=G(),b=E("button"),V=T("Select defaults"),k=G(),a=E("a"),f=T("Download"),H=G(),d=E("div");for(let o=0;o<_.length;o+=1)_[o].c();this.h()},l(o){t=P(o,"H2",{});var j=y(t);n=U(j,"Custom downloads"),j.forEach(v),s=L(o),i=P(o,"H3",{});var D=y(i);r=U(D,"Minecraft version: "),u=U(D,e[1]),D.forEach(v),h=L(o),g=P(o,"DIV",{class:!0});var C=y(g);m=P(C,"BUTTON",{class:!0});var X=y(m);w=U(X,"Reset"),X.forEach(v),A=L(C),b=P(C,"BUTTON",{class:!0});var Y=y(b);V=U(Y,"Select defaults"),Y.forEach(v),k=L(C),a=P(C,"A",{class:!0,href:!0});var Z=y(a);f=U(Z,"Download"),Z.forEach(v),C.forEach(v),H=L(o),d=P(o,"DIV",{class:!0});var $=y(d);for(let W=0;W<_.length;W+=1)_[W].l($);$.forEach(v),this.h()},h(){S(m,"class","control svelte-yxuri1"),S(b,"class","control svelte-yxuri1"),S(a,"class","control svelte-yxuri1"),S(a,"href",e[4]),S(g,"class","controls svelte-yxuri1"),S(d,"class","addons svelte-yxuri1")},m(o,j){N(o,t,j),I(t,n),N(o,s,j),N(o,i,j),I(i,r),I(i,u),N(o,h,j),N(o,g,j),I(g,m),I(m,w),I(g,A),I(g,b),I(b,V),I(g,k),I(g,a),I(a,f),N(o,H,j),N(o,d,j);for(let D=0;D<_.length;D+=1)_[D].m(d,null);c=!0,l||(p=[q(m,"click",e[6]),q(b,"click",e[7])],l=!0)},p(o,[j]){if((!c||j&2)&&gt(u,o[1]),(!c||j&16)&&S(a,"href",o[4]),j&45){O=o[2];let D;for(D=0;D<O.length;D+=1){const C=lt(o,O,D);_[D]?(_[D].p(C,j),R(_[D],1)):(_[D]=ot(C),_[D].c(),R(_[D],1),_[D].m(d,null))}for(ht(),D=O.length;D<_.length;D+=1)B(D);mt()}},i(o){if(!c){for(let j=0;j<O.length;j+=1)R(_[j]);c=!0}},o(o){_=_.filter(Boolean);for(let j=0;j<_.length;j+=1)J(_[j]);c=!1},d(o){o&&v(t),o&&v(s),o&&v(i),o&&v(h),o&&v(g),o&&v(H),o&&v(d),pt(_,o),l=!1,bt(p)}}}const Nt="https://raw.githubusercontent.com/Love-and-Tolerance/pack-release-builder/mane/assets.json";function Tt(e,t,n){let s,i="",r="",u="N/A",h="N/A",g=[],m=[];const w=[];at(async()=>{const a=await fetch(Nt),H=At(await a.json()).getAsObject().getObject("repos"),d=H.getObject("base"),c=H.getArray("addons"),l=_t(d.getPrimitive("url").getAsString());n(0,i=vt(l,null,"pack.png")),n(8,r=d.getPrimitive("filename").getAsString()),n(1,u=d.getPrimitive("mc_versions").getAsString()),n(9,h=d.getPrimitive("version").getAsString()),n(8,r=`https://github.com/${l.owner}/${l.name}/releases/download/${h}/${r}`),n(2,g=Array.from(c.iterator()))});function A(a){n(10,m[a.detail.pos]=a.detail.variant,m)}function b(){for(const a of w)a.reset()}function V(){for(const a of w)a.resetDefault()}function k(a,f){wt[a?"unshift":"push"](()=>{w[f]=a,n(3,w)})}return e.$$.update=()=>{e.$$.dirty&1792&&n(4,s=r.replace("{version}",h).replace("{ids}",m.join("")))},[i,u,g,w,s,A,b,V,r,h,m,k]}class Lt extends F{constructor(t){super(),K(this,t,Tt,Ot,Q,{})}}export{Lt as default};
