import{S as F,i as K,s as Q,e as E,P as T,d as P,f as H,Q as U,h as b,j as k,V as M,l as N,m as I,R as q,p as x,w as it,y as at,I as ct,J as ut,K as ft,t as R,r as J,L as dt,b as G,g as L,O as tt,E as ht,F as gt,T as mt,N as pt,W as bt,C as wt}from"./chunks/chunk.04e4fa0f.js";import{c as At}from"./chunks/chunk.a8af5ea4.js";/* empty css                     */function It(e){return e!=null}function z(e){return e===void 0||e===""}function Dt(e){if(e.startsWith("https://github.com/"))return e.replace("https://github.com/","");if(e.startsWith("git@github.com:"))return e.replace("git@github.com:","");throw new Error(`Unsupported URL. Only SSH- and HTTPS-like GitHub URLs are supported (${e})`)}function jt(e,t){return z(t)?e.replace(/\.git$/,""):e}function _t(e){const[t,n,r]=Dt(e).split("/");if(z(t)||z(n))throw new Error(`GitHub URL must contain repo's owner and name (${e})`);return{owner:t,name:jt(n,r)}}function vt(e,t,n){return t??="HEAD",`https://raw.githubusercontent.com/${e.owner}/${e.name}/${t}/${n}`}function St(e,t,n,r){let i=`https://github.com/${e.owner}/${e.name}/`;return It(n)&&(t??="tree",i+=`${t}/${n}/`,r!==void 0&&(i+=r)),i}function kt(e){let t,n,r,i;return{c(){t=E("div"),n=T(e[1]),this.h()},l(s){t=P(s,"DIV",{class:!0});var u=H(t);n=U(u,e[1]),u.forEach(b),this.h()},h(){k(t,"class","variant svelte-krdepm"),M(t,"selected",e[0])},m(s,u){N(s,t,u),I(t,n),r||(i=q(t,"click",e[2]),r=!0)},p(s,[u]){u&1&&M(t,"selected",s[0])},i:x,o:x,d(s){s&&b(t),r=!1,i()}}}function Vt(e,t,n){let{json:r}=t,{currentVariantID:i}=t;const s=r.getPrimitive("name").getAsString(),u=r.getPrimitive("id").getAsString(),d=(()=>{const c=r.get("branch");return c===null?null:c.getAsString()})();let m=!1,g=null,A=null,_=null,w=null;const V=it();function S(){V("click",{id:u,url:g,description:_,image:w})}return at(async()=>{const c=r.get("url"),f=r.get("pack.png"),y=r.get("description");if(f!==null&&n(7,w=f.getAsString()),y!==null&&n(6,_=y.getAsString()),c!==null&&(A=_t(c.getAsString()),n(5,g=St(A,"tree",d)),w===null&&n(7,w=vt(A,d,"pack.png")),_===null)){const a=await(await fetch(`https://api.github.com/repos/${A.owner}/${A.name}`,{headers:{Accept:"application/vnd.github.v3+json"}})).json();n(6,_=a.description)}m&&V("info",{id:u,url:g,description:_,image:w})}),e.$$set=c=>{"json"in c&&n(3,r=c.json),"currentVariantID"in c&&n(4,i=c.currentVariantID)},e.$$.update=()=>{e.$$.dirty&240&&(n(0,m=i===u),V("info",{id:u,url:g,description:_,image:w}))},[m,s,S,r,i,g,_,w]}class Et extends F{constructor(t){super(),K(this,t,Vt,kt,Q,{json:3,currentVariantID:4})}}function et(e,t,n){const r=e.slice();return r[17]=t[n],r}function nt(e){let t,n;return t=new Et({props:{currentVariantID:e[1],json:e[17].getAsObject()}}),t.$on("click",e[7]),t.$on("info",e[8]),{c(){ct(t.$$.fragment)},l(r){ut(t.$$.fragment,r)},m(r,i){ft(t,r,i),n=!0},p(r,i){const s={};i&2&&(s.currentVariantID=r[1]),t.$set(s)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){J(t.$$.fragment,r),n=!1},d(r){dt(t,r)}}}function rt(e){let t,n,r,i;return{c(){t=T("("),n=E("a"),r=T("GitHub"),i=T(")"),this.h()},l(s){t=U(s,"("),n=P(s,"A",{href:!0});var u=H(n);r=U(u,"GitHub"),u.forEach(b),i=U(s,")"),this.h()},h(){k(n,"href",e[4])},m(s,u){N(s,t,u),N(s,n,u),I(n,r),N(s,i,u)},p(s,u){u&16&&k(n,"href",s[4])},d(s){s&&b(t),s&&b(n),s&&b(i)}}}function Pt(e){let t,n,r,i,s,u,d,m,g,A,_,w,V,S,c=e[6],f=[];for(let a=0;a<c.length;a+=1)f[a]=nt(et(e,c,a));const y=a=>J(f[a],1,1,()=>{f[a]=null});let h=e[4]!==null&&rt(e);return{c(){t=E("div"),n=E("img"),i=G(),s=E("div"),u=E("h5"),d=T(e[5]),m=G(),g=E("div");for(let a=0;a<f.length;a+=1)f[a].c();A=G(),_=E("div"),w=T(e[2]),V=G(),h&&h.c(),this.h()},l(a){t=P(a,"DIV",{class:!0});var l=H(t);n=P(l,"IMG",{class:!0,src:!0,alt:!0}),i=L(l),s=P(l,"DIV",{class:!0});var p=H(s);u=P(p,"H5",{class:!0});var O=H(u);d=U(O,e[5]),O.forEach(b),m=L(p),g=P(p,"DIV",{class:!0});var v=H(g);for(let o=0;o<f.length;o+=1)f[o].l(v);v.forEach(b),A=L(p),_=P(p,"DIV",{class:!0});var B=H(_);w=U(B,e[2]),V=L(B),h&&h.l(B),B.forEach(b),p.forEach(b),l.forEach(b),this.h()},h(){k(n,"class","addon__image svelte-wtrwh8"),tt(n.src,r=e[3])||k(n,"src",r),k(n,"alt","Addon icon"),M(n,"default",e[3]===e[0]),k(u,"class","addon__name"),k(g,"class","addon__variants svelte-wtrwh8"),k(_,"class","addon__description"),k(s,"class","addon__content svelte-wtrwh8"),k(t,"class","addon svelte-wtrwh8")},m(a,l){N(a,t,l),I(t,n),I(t,i),I(t,s),I(s,u),I(u,d),I(s,m),I(s,g);for(let p=0;p<f.length;p+=1)f[p].m(g,null);I(s,A),I(s,_),I(_,w),I(_,V),h&&h.m(_,null),S=!0},p(a,[l]){if((!S||l&8&&!tt(n.src,r=a[3]))&&k(n,"src",r),l&9&&M(n,"default",a[3]===a[0]),l&450){c=a[6];let p;for(p=0;p<c.length;p+=1){const O=et(a,c,p);f[p]?(f[p].p(O,l),R(f[p],1)):(f[p]=nt(O),f[p].c(),R(f[p],1),f[p].m(g,null))}for(ht(),p=c.length;p<f.length;p+=1)y(p);gt()}(!S||l&4)&&mt(w,a[2]),a[4]!==null?h?h.p(a,l):(h=rt(a),h.c(),h.m(_,null)):h&&(h.d(1),h=null)},i(a){if(!S){for(let l=0;l<c.length;l+=1)R(f[l]);S=!0}},o(a){f=f.filter(Boolean);for(let l=0;l<f.length;l+=1)J(f[l]);S=!1},d(a){a&&b(t),pt(f,a),h&&h.d()}}}const st="No description";function yt(e,t,n){let{defaultImage:r}=t,{json:i}=t;const s=it(),u=i.getPrimitive("default").getAsString(),d=i.getPrimitive("name").getAsString(),m=i.getPrimitive("id_pos").getAsInteger()-1,g=Array.from(i.getArray("variants").iterator());let A=u,_=st,w=r,V=null;function S(l){n(1,A=l),s("variant",{pos:m,variant:A})}function c(l){n(4,V=l.url),n(2,_=l.description??st),n(3,w=l.image??r)}function f(l){c(l.detail),S(l.detail.id)}function y(l){A===l.detail.id&&(c(l.detail),S(l.detail.id))}function h(){S("x")}function a(){S(u)}return e.$$set=l=>{"defaultImage"in l&&n(0,r=l.defaultImage),"json"in l&&n(9,i=l.json)},[r,A,_,w,V,d,g,f,y,i,h,a]}class Ht extends F{constructor(t){super(),K(this,t,yt,Pt,Q,{defaultImage:0,json:9,reset:10,resetDefault:11})}get reset(){return this.$$.ctx[10]}get resetDefault(){return this.$$.ctx[11]}}function lt(e,t,n){const r=e.slice();return r[12]=t[n],r[13]=t,r[14]=n,r}function ot(e){let t,n=e[14],r;const i=()=>e[11](t,n),s=()=>e[11](null,n);let u={defaultImage:e[0],json:e[12].getAsObject()};return t=new Ht({props:u}),i(),t.$on("variant",e[5]),{c(){ct(t.$$.fragment)},l(d){ut(t.$$.fragment,d)},m(d,m){ft(t,d,m),r=!0},p(d,m){n!==d[14]&&(s(),n=d[14],i());const g={};m&1&&(g.defaultImage=d[0]),m&4&&(g.json=d[12].getAsObject()),t.$set(g)},i(d){r||(R(t.$$.fragment,d),r=!0)},o(d){J(t.$$.fragment,d),r=!1},d(d){s(),dt(t,d)}}}function Ot(e){let t,n,r,i,s,u,d,m,g,A,_,w,V,S,c,f,y,h,a,l,p,O=e[2],v=[];for(let o=0;o<O.length;o+=1)v[o]=ot(lt(e,O,o));const B=o=>J(v[o],1,1,()=>{v[o]=null});return{c(){t=E("h2"),n=T("Custom downloads"),r=G(),i=E("h3"),s=T("Minecraft version: "),u=T(e[1]),d=G(),m=E("div"),g=E("button"),A=T("Reset"),_=G(),w=E("button"),V=T("Select defaults"),S=G(),c=E("a"),f=T("Download"),y=G(),h=E("div");for(let o=0;o<v.length;o+=1)v[o].c();this.h()},l(o){t=P(o,"H2",{});var D=H(t);n=U(D,"Custom downloads"),D.forEach(b),r=L(o),i=P(o,"H3",{});var j=H(i);s=U(j,"Minecraft version: "),u=U(j,e[1]),j.forEach(b),d=L(o),m=P(o,"DIV",{class:!0});var C=H(m);g=P(C,"BUTTON",{class:!0});var X=H(g);A=U(X,"Reset"),X.forEach(b),_=L(C),w=P(C,"BUTTON",{class:!0});var Y=H(w);V=U(Y,"Select defaults"),Y.forEach(b),S=L(C),c=P(C,"A",{class:!0,href:!0});var Z=H(c);f=U(Z,"Download"),Z.forEach(b),C.forEach(b),y=L(o),h=P(o,"DIV",{class:!0});var $=H(h);for(let W=0;W<v.length;W+=1)v[W].l($);$.forEach(b),this.h()},h(){k(g,"class","control svelte-yxuri1"),k(w,"class","control svelte-yxuri1"),k(c,"class","control svelte-yxuri1"),k(c,"href",e[4]),k(m,"class","controls svelte-yxuri1"),k(h,"class","addons svelte-yxuri1")},m(o,D){N(o,t,D),I(t,n),N(o,r,D),N(o,i,D),I(i,s),I(i,u),N(o,d,D),N(o,m,D),I(m,g),I(g,A),I(m,_),I(m,w),I(w,V),I(m,S),I(m,c),I(c,f),N(o,y,D),N(o,h,D);for(let j=0;j<v.length;j+=1)v[j].m(h,null);a=!0,l||(p=[q(g,"click",e[6]),q(w,"click",e[7])],l=!0)},p(o,[D]){if((!a||D&2)&&mt(u,o[1]),(!a||D&16)&&k(c,"href",o[4]),D&45){O=o[2];let j;for(j=0;j<O.length;j+=1){const C=lt(o,O,j);v[j]?(v[j].p(C,D),R(v[j],1)):(v[j]=ot(C),v[j].c(),R(v[j],1),v[j].m(h,null))}for(ht(),j=O.length;j<v.length;j+=1)B(j);gt()}},i(o){if(!a){for(let D=0;D<O.length;D+=1)R(v[D]);a=!0}},o(o){v=v.filter(Boolean);for(let D=0;D<v.length;D+=1)J(v[D]);a=!1},d(o){o&&b(t),o&&b(r),o&&b(i),o&&b(d),o&&b(m),o&&b(y),o&&b(h),pt(v,o),l=!1,bt(p)}}}const Nt="https://raw.githubusercontent.com/Love-and-Tolerance/pack-release-builder/mane/assets.json";function Tt(e,t,n){let r,i="",s="",u="N/A",d="N/A",m=[],g=[];const A=[];at(async()=>{const c=await fetch(Nt),y=At(await c.json()).getAsObject().getObject("repos"),h=y.getObject("base"),a=y.getArray("addons"),l=_t(h.getPrimitive("url").getAsString());n(0,i=vt(l,null,"pack.png")),n(8,s=h.getPrimitive("filename").getAsString()),n(1,u=h.getPrimitive("mc_versions").getAsString()),n(9,d=h.getPrimitive("version").getAsString()),n(8,s=`https://github.com/${l.owner}/${l.name}/releases/download/${d}/${s}`),n(2,m=Array.from(a.iterator()))});function _(c){n(10,g[c.detail.pos]=c.detail.variant,g)}function w(){for(const c of A)c.reset()}function V(){for(const c of A)c.resetDefault()}function S(c,f){wt[c?"unshift":"push"](()=>{A[f]=c,n(3,A)})}return e.$$.update=()=>{e.$$.dirty&1792&&n(4,r=s.replace("{version}",d).replace("{ids}",g.join("")))},[i,u,m,A,r,_,w,V,s,d,g,S]}class Lt extends F{constructor(t){super(),K(this,t,Tt,Ot,Q,{})}}export{Lt as default};
